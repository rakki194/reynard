<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reynard Framework Implementation Plan - Reynard Documentation Test</title>
  <link rel="stylesheet" href="../styles.css">
  <link rel="stylesheet" href="../highlight.css">
  <link rel="icon" href="/favicon.ico">
</head>
<body>
  <nav class="docs-nav">
    <div class="nav-brand"><a href="../index.html">Reynard Documentation Test</a></div>
    <div class="nav-links"><a href="../index.html">Home</a><a href="../api.html">API Reference</a></div>
  </nav>
  <main class="docs-main">
    <div class="docs-content">
      <h1>Reynard Framework Implementation Plan</h1>
      <div class="markdown-content"><h1>Reynard Framework Implementation Plan</h1>
<p>This document provides a detailed implementation plan for the most critical missing features in the Reynard framework.</p>
<h2>üéØ Phase 1: Core AI/ML Services (Weeks 1-4)</h2>
<h3>1.1 Caption Generation Package ‚ö†Ô∏è</h3>
<p><strong>Priority</strong>: <strong>CRITICAL</strong> - Frontend framework exists but lacks actual implementations<br><strong>Status</strong>: Frontend framework complete, but NO actual model implementations exist</p>
<h4>Current Implementation Reality</h4>
<p>The caption generation system in <code>packages/annotating</code> provides:</p>
<ul>
<li>‚úÖ <strong>AnnotationManager</strong> - Main orchestrator framework</li>
<li>‚úÖ <strong>AnnotationService</strong> - Service layer framework</li>
<li>‚úÖ <strong>BaseCaptionGenerator</strong> - Abstract base class only</li>
<li>‚ùå <strong>NO actual generators</strong> - JTP2, WDv3, Florence2, JoyCaption are NOT implemented</li>
<li>‚úÖ <strong>Batch Processing Framework</strong> - Structure exists but no actual processing</li>
<li>‚úÖ <strong>Event System</strong> - Framework for lifecycle management</li>
<li>‚úÖ <strong>TypeScript Support</strong> - Full type safety and comprehensive types</li>
</ul>
<h4>Critical Gap Discovered</h4>
<p><strong>The frontend package is a complete framework but has NO actual caption generation capabilities</strong>. Meanwhile, Yipyap contains sophisticated, fully-functional implementations of all these models.</p>
<h4>Immediate Action Required</h4>
<p><strong>Option 1: Bridge to Yipyap (Recommended)</strong></p>
<pre><code class="hljs language-python"><span class="hljs-comment"># backend/app/api/caption.py</span>
<span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> APIRouter, Depends, HTTPException
<span class="hljs-keyword">from</span> app.models.caption <span class="hljs-keyword">import</span> CaptionRequest, CaptionResponse
<span class="hljs-comment"># Import Yipyap&#x27;s sophisticated caption service</span>
<span class="hljs-keyword">from</span> third_party.yipyap.app.caption_generation.caption_service <span class="hljs-keyword">import</span> get_caption_service

router = APIRouter(prefix=<span class="hljs-string">&quot;/api/caption&quot;</span>, tags=[<span class="hljs-string">&quot;caption&quot;</span>])

<span class="hljs-meta">@router.post(<span class="hljs-params"><span class="hljs-string">&quot;/generate&quot;</span>, response_model=CaptionResponse</span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">generate_captions</span>(<span class="hljs-params">
    request: CaptionRequest,
    current_user: User = Depends(<span class="hljs-params">get_current_active_user</span>)
</span>):
    <span class="hljs-string">&quot;&quot;&quot;Generate captions using Yipyap&#x27;s sophisticated caption service&quot;&quot;&quot;</span>
    service = get_caption_service()
    result = <span class="hljs-keyword">await</span> service.generate_single_caption(
        image_path=request.image_path,
        generator_name=request.generator_name,
        config=request.config
    )
    <span class="hljs-keyword">return</span> CaptionResponse(captions=result)

<span class="hljs-meta">@router.get(<span class="hljs-params"><span class="hljs-string">&quot;/generators&quot;</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">list_generators</span>(<span class="hljs-params">current_user: User = Depends(<span class="hljs-params">get_current_active_user</span>)</span>):
    <span class="hljs-string">&quot;&quot;&quot;List available caption generators from Yipyap&quot;&quot;&quot;</span>
    service = get_caption_service()
    <span class="hljs-keyword">return</span> service.get_available_generators()</code></pre><p><strong>Option 2: Implement Generators in Reynard (Not Recommended)</strong><br>This would require reimplementing all the sophisticated model logic that already exists in Yipyap.</p>
<h3>1.2 RAG System Enhancement</h3>
<p><strong>Priority</strong>: Critical<br><strong>Estimated Time</strong>: 1 week</p>
<h4>Implementation Steps</h4>
<ol>
<li><strong>Extend RAG Package</strong>:</li>
</ol>
<pre><code class="hljs language-typescript"><span class="hljs-comment">// packages/rag/src/services/EmbeddingService.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EmbeddingService</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">models</span>: <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">loadModel</span>(<span class="hljs-attr">modelId</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
    <span class="hljs-comment">// Load embedding model</span>
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">generateEmbeddings</span>(<span class="hljs-attr">texts</span>: <span class="hljs-built_in">string</span>[]): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">number</span>[][]&gt; {
    <span class="hljs-comment">// Generate embeddings for texts</span>
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">searchSimilar</span>(
    <span class="hljs-attr">query</span>: <span class="hljs-built_in">string</span>,
    <span class="hljs-attr">topK</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">10</span>,
  ): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">SearchResult</span>[]&gt; {
    <span class="hljs-comment">// Search for similar content</span>
  }
}</code></pre><ol start="2">
<li><strong>Add Vector Database Integration</strong>:</li>
</ol>
<pre><code class="hljs language-python"><span class="hljs-comment"># backend/app/services/vector_db.py</span>
<span class="hljs-keyword">import</span> asyncpg
<span class="hljs-keyword">from</span> pgvector.asyncpg <span class="hljs-keyword">import</span> register_vector

<span class="hljs-keyword">class</span> <span class="hljs-title class_">VectorDatabase</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, connection_string: <span class="hljs-built_in">str</span></span>):
        <span class="hljs-variable language_">self</span>.connection_string = connection_string

    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">connect</span>(<span class="hljs-params">self</span>):
        <span class="hljs-variable language_">self</span>.conn = <span class="hljs-keyword">await</span> asyncpg.connect(<span class="hljs-variable language_">self</span>.connection_string)
        <span class="hljs-keyword">await</span> register_vector(<span class="hljs-variable language_">self</span>.conn)

    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">insert_embeddings</span>(<span class="hljs-params">self, embeddings: <span class="hljs-type">List</span>[Embedding]</span>):
        <span class="hljs-comment"># Insert embeddings into vector database</span>
        <span class="hljs-keyword">pass</span>

    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">search_similar</span>(<span class="hljs-params">self, query_vector: <span class="hljs-type">List</span>[<span class="hljs-built_in">float</span>], top_k: <span class="hljs-built_in">int</span> = <span class="hljs-number">10</span></span>):
        <span class="hljs-comment"># Search for similar embeddings</span>
        <span class="hljs-keyword">pass</span></code></pre><ol start="3">
<li><strong>Add RAG Endpoints</strong>:</li>
</ol>
<pre><code class="hljs language-python"><span class="hljs-comment"># backend/app/api/rag.py</span>
<span class="hljs-meta">@router.post(<span class="hljs-params"><span class="hljs-string">&quot;/ingest&quot;</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">ingest_documents</span>(<span class="hljs-params">
    request: IngestRequest,
    current_user: User = Depends(<span class="hljs-params">get_current_active_user</span>)
</span>):
    <span class="hljs-string">&quot;&quot;&quot;Ingest documents for RAG&quot;&quot;&quot;</span>
    <span class="hljs-keyword">pass</span>

<span class="hljs-meta">@router.post(<span class="hljs-params"><span class="hljs-string">&quot;/query&quot;</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">query_rag</span>(<span class="hljs-params">
    request: QueryRequest,
    current_user: User = Depends(<span class="hljs-params">get_current_active_user</span>)
</span>):
    <span class="hljs-string">&quot;&quot;&quot;Query RAG system&quot;&quot;&quot;</span>
    <span class="hljs-keyword">pass</span></code></pre><h3>1.3 Model Management Backend</h3>
<p><strong>Priority</strong>: High<br><strong>Estimated Time</strong>: 1 week</p>
<h4>Implementation Steps</h4>
<ol>
<li><strong>Extend Backend with Model Endpoints</strong>:</li>
</ol>
<pre><code class="hljs language-python"><span class="hljs-comment"># backend/app/api/models.py</span>
<span class="hljs-meta">@router.get(<span class="hljs-params"><span class="hljs-string">&quot;/models&quot;</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">list_models</span>(<span class="hljs-params">current_user: User = Depends(<span class="hljs-params">get_current_active_user</span>)</span>):
    <span class="hljs-string">&quot;&quot;&quot;List all available models&quot;&quot;&quot;</span>
    <span class="hljs-keyword">pass</span>

<span class="hljs-meta">@router.post(<span class="hljs-params"><span class="hljs-string">&quot;/models/{model_id}/download&quot;</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">download_model</span>(<span class="hljs-params">
    model_id: <span class="hljs-built_in">str</span>,
    current_user: User = Depends(<span class="hljs-params">is_admin</span>)
</span>):
    <span class="hljs-string">&quot;&quot;&quot;Download a model&quot;&quot;&quot;</span>
    <span class="hljs-keyword">pass</span>

<span class="hljs-meta">@router.post(<span class="hljs-params"><span class="hljs-string">&quot;/models/{model_id}/load&quot;</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">load_model</span>(<span class="hljs-params">
    model_id: <span class="hljs-built_in">str</span>,
    config: ModelConfig,
    current_user: User = Depends(<span class="hljs-params">is_admin</span>)
</span>):
    <span class="hljs-string">&quot;&quot;&quot;Load a model with configuration&quot;&quot;&quot;</span>
    <span class="hljs-keyword">pass</span></code></pre><ol start="2">
<li><strong>Add Database Integration</strong>:</li>
</ol>
<pre><code class="hljs language-python"><span class="hljs-comment"># backend/app/database/models.py</span>
<span class="hljs-keyword">from</span> sqlalchemy <span class="hljs-keyword">import</span> Column, Integer, String, DateTime, Boolean
<span class="hljs-keyword">from</span> sqlalchemy.ext.declarative <span class="hljs-keyword">import</span> declarative_base

Base = declarative_base()

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Model</span>(<span class="hljs-title class_ inherited__">Base</span>):
    __tablename__ = <span class="hljs-string">&quot;models&quot;</span>

    <span class="hljs-built_in">id</span> = Column(Integer, primary_key=<span class="hljs-literal">True</span>)
    model_id = Column(String, unique=<span class="hljs-literal">True</span>, nullable=<span class="hljs-literal">False</span>)
    name = Column(String, nullable=<span class="hljs-literal">False</span>)
    <span class="hljs-built_in">type</span> = Column(String, nullable=<span class="hljs-literal">False</span>)
    status = Column(String, nullable=<span class="hljs-literal">False</span>)
    config = Column(String)  <span class="hljs-comment"># JSON config</span>
    created_at = Column(DateTime)
    updated_at = Column(DateTime)</code></pre><h2>üéØ Phase 2: Advanced Features (Weeks 5-8)</h2>
<h3>2.1 Diffusion LLM Package</h3>
<p><strong>Priority</strong>: High<br><strong>Estimated Time</strong>: 1 week</p>
<h4>Implementation Steps</h4>
<ol>
<li><strong>Create Package Structure</strong>:</li>
</ol>
<pre><code class="hljs language-bash"><span class="hljs-built_in">mkdir</span> -p packages/diffusion-llm/src/{models,services,types}</code></pre><ol start="2">
<li><strong>Implement Models</strong>:</li>
</ol>
<pre><code class="hljs language-typescript"><span class="hljs-comment">// packages/diffusion-llm/src/models/DreamOnModel.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DreamOnModel</span> {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">generateText</span>(
    <span class="hljs-attr">prompt</span>: <span class="hljs-built_in">string</span>,
    <span class="hljs-attr">options</span>: <span class="hljs-title class_">GenerationOptions</span>,
  ): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">GenerationResult</span>&gt; {
    <span class="hljs-comment">// Generate text using DreamOn model</span>
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">infillText</span>(<span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">mask</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>&gt; {
    <span class="hljs-comment">// Infill masked text</span>
  }
}

<span class="hljs-comment">// packages/diffusion-llm/src/models/LLaDAModel.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LLaDAModel</span> {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">generateStreaming</span>(
    <span class="hljs-attr">prompt</span>: <span class="hljs-built_in">string</span>,
    <span class="hljs-attr">options</span>: <span class="hljs-title class_">GenerationOptions</span>,
  ): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">AsyncIterable</span>&lt;<span class="hljs-built_in">string</span>&gt;&gt; {
    <span class="hljs-comment">// Generate streaming text</span>
  }
}</code></pre><h3>2.2 TTS Integration</h3>
<p><strong>Priority</strong>: Medium<br><strong>Estimated Time</strong>: 1 week</p>
<h4>Implementation Steps</h4>
<ol>
<li><strong>Create TTS Package</strong>:</li>
</ol>
<pre><code class="hljs language-typescript"><span class="hljs-comment">// packages/tts/src/services/TTSService.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TTSService</span> {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">generateSpeech</span>(
    <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span>,
    <span class="hljs-attr">options</span>: <span class="hljs-title class_">TTSOptions</span>,
  ): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">AudioBuffer</span>&gt; {
    <span class="hljs-comment">// Generate speech from text</span>
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">batchGenerate</span>(
    <span class="hljs-attr">texts</span>: <span class="hljs-built_in">string</span>[],
    <span class="hljs-attr">options</span>: <span class="hljs-title class_">TTSOptions</span>,
  ): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">AudioBuffer</span>[]&gt; {
    <span class="hljs-comment">// Generate multiple audio files</span>
  }
}</code></pre><h3>2.3 ComfyUI Integration</h3>
<p><strong>Priority</strong>: Medium<br><strong>Estimated Time</strong>: 1 week</p>
<h4>Implementation Steps</h4>
<ol>
<li><strong>Create ComfyUI Package</strong>:</li>
</ol>
<pre><code class="hljs language-typescript"><span class="hljs-comment">// packages/comfy/src/services/ComfyService.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ComfyService</span> {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">queueWorkflow</span>(<span class="hljs-attr">workflow</span>: <span class="hljs-title class_">Workflow</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">JobId</span>&gt; {
    <span class="hljs-comment">// Queue a ComfyUI workflow</span>
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">getJobStatus</span>(<span class="hljs-attr">jobId</span>: <span class="hljs-title class_">JobId</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">JobStatus</span>&gt; {
    <span class="hljs-comment">// Get job status</span>
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">getResult</span>(<span class="hljs-attr">jobId</span>: <span class="hljs-title class_">JobId</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">JobResult</span>&gt; {
    <span class="hljs-comment">// Get job result</span>
  }
}</code></pre><h2>üéØ Phase 3: External Integrations (Weeks 9-12)</h2>
<h3>3.1 Ollama Integration</h3>
<p><strong>Priority</strong>: Medium<br><strong>Estimated Time</strong>: 1 week</p>
<h4>Implementation Steps</h4>
<ol>
<li><strong>Create Ollama Package</strong>:</li>
</ol>
<pre><code class="hljs language-typescript"><span class="hljs-comment">// packages/ollama/src/services/OllamaService.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OllamaService</span> {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">listModels</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Model</span>[]&gt; {
    <span class="hljs-comment">// List available Ollama models</span>
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">chatWithModel</span>(
    <span class="hljs-attr">model</span>: <span class="hljs-built_in">string</span>,
    <span class="hljs-attr">messages</span>: <span class="hljs-title class_">Message</span>[],
  ): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">ChatResponse</span>&gt; {
    <span class="hljs-comment">// Chat with Ollama model</span>
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">streamChat</span>(
    <span class="hljs-attr">model</span>: <span class="hljs-built_in">string</span>,
    <span class="hljs-attr">messages</span>: <span class="hljs-title class_">Message</span>[],
  ): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">AsyncIterable</span>&lt;<span class="hljs-built_in">string</span>&gt;&gt; {
    <span class="hljs-comment">// Stream chat responses</span>
  }
}</code></pre><h3>3.2 Web Crawling Service</h3>
<p><strong>Priority</strong>: Low<br><strong>Estimated Time</strong>: 1 week</p>
<h4>Implementation Steps</h4>
<ol>
<li><strong>Create Crawling Package</strong>:</li>
</ol>
<pre><code class="hljs language-typescript"><span class="hljs-comment">// packages/crawling/src/services/CrawlingService.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CrawlingService</span> {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">crawlUrl</span>(<span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">CrawlResult</span>&gt; {
    <span class="hljs-comment">// Crawl a URL and extract content</span>
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">summarizeContent</span>(<span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Summary</span>&gt; {
    <span class="hljs-comment">// Summarize crawled content</span>
  }
}</code></pre><h2>üìã Implementation Checklist</h2>
<h3>Week 1-2: Core AI/ML Services</h3>
<ul>
<li><input checked="" disabled="" type="checkbox"> <del>Create caption generation package</del> <strong>COMPLETED</strong> - Exists in <code>packages/annotating</code></li>
<li><input checked="" disabled="" type="checkbox"> <del>Implement JTP2, WDv3, Florence2 models</del> <strong>COMPLETED</strong> - Already implemented</li>
<li><input disabled="" type="checkbox"> Add caption generation backend endpoints (integrate with existing frontend)</li>
<li><input disabled="" type="checkbox"> Test caption generation pipeline</li>
</ul>
<h3>Week 3-4: RAG System</h3>
<ul>
<li><input disabled="" type="checkbox"> Enhance RAG package with embedding services</li>
<li><input disabled="" type="checkbox"> Add vector database integration</li>
<li><input disabled="" type="checkbox"> Implement RAG endpoints</li>
<li><input disabled="" type="checkbox"> Test RAG functionality</li>
</ul>
<h3>Week 5-6: Model Management</h3>
<ul>
<li><input disabled="" type="checkbox"> Extend backend with model management</li>
<li><input disabled="" type="checkbox"> Add database integration</li>
<li><input disabled="" type="checkbox"> Implement model lifecycle management</li>
<li><input disabled="" type="checkbox"> Test model management system</li>
</ul>
<h3>Week 7-8: Advanced Features</h3>
<ul>
<li><input disabled="" type="checkbox"> Create diffusion LLM package</li>
<li><input disabled="" type="checkbox"> Implement TTS integration</li>
<li><input disabled="" type="checkbox"> Add ComfyUI integration</li>
<li><input disabled="" type="checkbox"> Test advanced features</li>
</ul>
<h3>Week 9-10: External Integrations</h3>
<ul>
<li><input disabled="" type="checkbox"> Implement Ollama integration</li>
<li><input disabled="" type="checkbox"> Add web crawling service</li>
<li><input disabled="" type="checkbox"> Test external integrations</li>
<li><input disabled="" type="checkbox"> Document new features</li>
</ul>
<h3>Week 11-12: Testing &amp; Documentation</h3>
<ul>
<li><input disabled="" type="checkbox"> Add comprehensive tests</li>
<li><input disabled="" type="checkbox"> Update documentation</li>
<li><input disabled="" type="checkbox"> Create example applications</li>
<li><input disabled="" type="checkbox"> Performance optimization</li>
</ul>
<h2>üöÄ Getting Started</h2>
<h3>Current Status: Critical Gap Identified ‚ö†Ô∏è</h3>
<p><strong>The caption generation system in <code>packages/annotating</code> is NOT functional</strong> - it&#39;s a complete frontend framework with no actual model implementations.</p>
<h3>Immediate Priority: Bridge to Yipyap</h3>
<ol>
<li><strong>Create API endpoints to expose Yipyap&#39;s caption service</strong>:</li>
</ol>
<pre><code class="hljs language-bash"><span class="hljs-built_in">cd</span> backend
<span class="hljs-built_in">mkdir</span> -p app/api app/services app/models</code></pre><ol start="2">
<li><strong>Implement caption endpoints that bridge to Yipyap</strong>:</li>
</ol>
<pre><code class="hljs language-python"><span class="hljs-comment"># backend/app/api/caption.py</span>
<span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> APIRouter, Depends
<span class="hljs-keyword">from</span> third_party.yipyap.app.caption_generation.caption_service <span class="hljs-keyword">import</span> get_caption_service

router = APIRouter(prefix=<span class="hljs-string">&quot;/api/caption&quot;</span>, tags=[<span class="hljs-string">&quot;caption&quot;</span>])

<span class="hljs-meta">@router.post(<span class="hljs-params"><span class="hljs-string">&quot;/generate&quot;</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">generate_captions</span>(<span class="hljs-params">request: CaptionRequest</span>):
    service = get_caption_service()
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> service.generate_single_caption(
        image_path=request.image_path,
        generator_name=request.generator_name,
        config=request.config
    )</code></pre><ol start="3">
<li><p><strong>Update Reynard frontend to use backend APIs</strong>:</p>
<ul>
<li>Modify <code>packages/annotating</code> to make HTTP requests to backend</li>
<li>Remove the non-functional local model implementations</li>
<li>Connect to the actual Yipyap caption service via API</li>
</ul>
</li>
<li><p><strong>Test end-to-end integration</strong>:</p>
<ul>
<li>Verify frontend can generate captions via backend</li>
<li>Test all caption types (JTP2, Florence2, etc.)</li>
<li>Ensure batch processing works correctly</li>
</ul>
</li>
</ol>
<h3>Why This Approach is Critical</h3>
<ul>
<li><strong>Yipyap already has everything</strong>: Sophisticated model implementations, GPU acceleration, batch processing, error handling</li>
<li><strong>Reynard has the UI</strong>: Excellent frontend components that just need to connect to real services</li>
<li><strong>No duplication</strong>: Avoids reimplementing thousands of lines of complex model code</li>
<li><strong>Immediate functionality</strong>: Can have working caption generation in days, not months</li>
</ul>
<p>This represents the fastest path to a fully functional caption generation system in Reynard.</p>
</div>
    </div>
  </main>
  <footer class="docs-footer"><p>&copy; 2024 Reynard Documentation Test. Built with ‚ù§Ô∏è using SolidJS.</p></footer>
</body>
</html>