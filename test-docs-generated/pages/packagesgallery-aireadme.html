<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>reynard-gallery-ai - Reynard Documentation Test</title>
  <link rel="stylesheet" href="../styles.css">
  <link rel="stylesheet" href="../highlight.css">
  <link rel="icon" href="/favicon.ico">
</head>
<body>
  <nav class="docs-nav">
    <div class="nav-brand"><a href="../index.html">Reynard Documentation Test</a></div>
    <div class="nav-links"><a href="../index.html">Home</a><a href="../api.html">API Reference</a></div>
  </nav>
  <main class="docs-main">
    <div class="docs-content">
      <h1>reynard-gallery-ai</h1>
      <div class="markdown-content"><h1>reynard-gallery-ai</h1>
<p>AI-enhanced gallery components for the Reynard framework. Integrates caption generation, batch annotation, and smart features with the core gallery system.</p>
<h2>Features</h2>
<ul>
<li><strong>Caption Generation</strong>: Generate captions for images using multiple AI models</li>
<li><strong>Batch Processing</strong>: Process multiple images simultaneously with progress tracking</li>
<li><strong>Smart Context Menus</strong>: AI-powered context menu actions for gallery items</li>
<li><strong>Enhanced Image Viewer</strong>: AI-integrated image viewer with caption editing</li>
<li><strong>Configurable AI Settings</strong>: Flexible configuration for different AI models and workflows</li>
</ul>
<h2>Installation</h2>
<pre><code class="hljs language-bash">npm install reynard-gallery-ai</code></pre><h2>Quick Start</h2>
<h3>Basic Setup</h3>
<pre><code class="hljs language-tsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AIGalleryProvider</span>, useGalleryAI } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;reynard-gallery-ai&quot;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Gallery</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;reynard-gallery&quot;</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">MyAIGallery</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">AIGalleryProvider</span>
      <span class="hljs-attr">initialConfig</span>=<span class="hljs-string">{{</span>
        <span class="hljs-attr">defaultGenerator:</span> &quot;<span class="hljs-attr">jtp2</span>&quot;,
        <span class="hljs-attr">autoGenerateOnUpload:</span> <span class="hljs-attr">true</span>,
        <span class="hljs-attr">aiEnabled:</span> <span class="hljs-attr">true</span>,
      }}
    &gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Gallery</span>
        <span class="hljs-attr">data</span>=<span class="hljs-string">{galleryData}</span>
        <span class="hljs-attr">showAIFeatures</span>=<span class="hljs-string">{true}</span>
        <span class="hljs-attr">onItemOpen</span>=<span class="hljs-string">{(item)</span> =&gt;</span> {
          // Handle item opening with AI features
        }}
      /&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">AIGalleryProvider</span>&gt;</span></span>
  );
}</code></pre><h3>Using AI Features</h3>
<pre><code class="hljs language-tsx"><span class="hljs-keyword">import</span> { useGalleryAI } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;reynard-gallery-ai&quot;</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">MyComponent</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> ai = <span class="hljs-title function_">useGalleryAI</span>();

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleGenerateCaption</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">item</span>) =&gt; {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> ai.<span class="hljs-title function_">generateCaption</span>(item, <span class="hljs-string">&quot;jtp2&quot;</span>);
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Generated caption:&quot;</span>, result.<span class="hljs-property">caption</span>);
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&quot;Caption generation failed:&quot;</span>, error);
    }
  };

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleBatchAnnotate</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">items</span>) =&gt; {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> results = <span class="hljs-keyword">await</span> ai.<span class="hljs-title function_">batchAnnotate</span>(items, <span class="hljs-string">&quot;joycaption&quot;</span>);
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Batch processing complete:&quot;</span>, results);
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&quot;Batch processing failed:&quot;</span>, error);
    }
  };

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> handleGenerateCaption(selectedItem)}&gt;
        Generate Caption
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> handleBatchAnnotate(selectedItems)}&gt;
        Batch Annotate
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}</code></pre><h2>API Reference</h2>
<h3>AIGalleryProvider</h3>
<p>Context provider for AI-enhanced gallery functionality.</p>
<h4>Props</h4>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">AIGalleryProviderProps</span> {
  <span class="hljs-attr">children</span>: <span class="hljs-built_in">any</span>;
  <span class="hljs-attr">initialConfig</span>?: <span class="hljs-title class_">Partial</span>&lt;<span class="hljs-title class_">AIGalleryConfig</span>&gt;;
  <span class="hljs-attr">callbacks</span>?: <span class="hljs-title class_">AIGalleryCallbacks</span>;
  <span class="hljs-attr">persistState</span>?: <span class="hljs-built_in">boolean</span>;
  <span class="hljs-attr">storageKey</span>?: <span class="hljs-built_in">string</span>;
}</code></pre><h3>useGalleryAI</h3>
<p>Main composable for AI gallery functionality.</p>
<h4>Options</h4>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">UseGalleryAIOptions</span> {
  <span class="hljs-attr">initialConfig</span>?: <span class="hljs-title class_">Partial</span>&lt;<span class="hljs-title class_">AIGalleryConfig</span>&gt;;
  <span class="hljs-attr">autoInitialize</span>?: <span class="hljs-built_in">boolean</span>;
  <span class="hljs-attr">callbacks</span>?: <span class="hljs-title class_">AIGalleryCallbacks</span>;
  <span class="hljs-attr">persistState</span>?: <span class="hljs-built_in">boolean</span>;
  <span class="hljs-attr">storageKey</span>?: <span class="hljs-built_in">string</span>;
}</code></pre><h4>Return Value</h4>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">UseGalleryAIReturn</span> {
  <span class="hljs-attr">aiState</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">AIGalleryState</span>;
  <span class="hljs-attr">generateCaption</span>: <span class="hljs-function">(<span class="hljs-params">
    <span class="hljs-attr">item</span>: <span class="hljs-title class_">FileItem</span>,
    <span class="hljs-attr">generator</span>: <span class="hljs-built_in">string</span>,
  </span>) =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">CaptionResult</span>&gt;;
  <span class="hljs-attr">batchAnnotate</span>: <span class="hljs-function">(<span class="hljs-params">
    <span class="hljs-attr">items</span>: <span class="hljs-title class_">FileItem</span>[],
    <span class="hljs-attr">generator</span>: <span class="hljs-built_in">string</span>,
  </span>) =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">CaptionResult</span>[]&gt;;
  <span class="hljs-attr">updateAIConfig</span>: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">config</span>: <span class="hljs-title class_">Partial</span>&lt;<span class="hljs-title class_">AIGalleryConfig</span>&gt;</span>) =&gt;</span> <span class="hljs-built_in">void</span>;
  <span class="hljs-attr">getAvailableGenerators</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">string</span>[];
  <span class="hljs-attr">isGeneratorAvailable</span>: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">generator</span>: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">boolean</span>;
  <span class="hljs-attr">getAnnotationManager</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">AnnotationManager</span>;
  <span class="hljs-attr">clearAIState</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>;
  <span class="hljs-attr">setAIEnabled</span>: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">enabled</span>: <span class="hljs-built_in">boolean</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>;
}</code></pre><h2>Configuration</h2>
<h3>AI Gallery Config</h3>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">AIGalleryConfig</span> {
  <span class="hljs-attr">defaultGenerator</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">autoGenerateOnUpload</span>: <span class="hljs-built_in">boolean</span>;
  <span class="hljs-attr">batchSettings</span>: <span class="hljs-title class_">BatchProcessingSettings</span>;
  <span class="hljs-attr">captionSettings</span>: <span class="hljs-title class_">CaptionGenerationSettings</span>;
  <span class="hljs-attr">uiPreferences</span>: <span class="hljs-title class_">AIGalleryUIPreferences</span>;
}</code></pre><h3>Batch Processing Settings</h3>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">BatchProcessingSettings</span> {
  <span class="hljs-attr">maxConcurrent</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">retryFailed</span>: <span class="hljs-built_in">boolean</span>;
  <span class="hljs-attr">maxRetries</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">progressInterval</span>: <span class="hljs-built_in">number</span>;
}</code></pre><h3>Caption Generation Settings</h3>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">CaptionGenerationSettings</span> {
  <span class="hljs-attr">defaultCaptionType</span>: <span class="hljs-title class_">CaptionType</span>;
  <span class="hljs-attr">postProcessing</span>: <span class="hljs-built_in">boolean</span>;
  <span class="hljs-attr">forceRegeneration</span>: <span class="hljs-built_in">boolean</span>;
  <span class="hljs-attr">generatorConfigs</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">ModelConfig</span>&gt;;
}</code></pre><h2>Callbacks</h2>
<h3>AIGalleryCallbacks</h3>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">AIGalleryCallbacks</span> {
  <span class="hljs-attr">onCaptionGenerationStart</span>?: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">item</span>: <span class="hljs-title class_">FileItem</span>, <span class="hljs-attr">generator</span>: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>;
  <span class="hljs-attr">onCaptionGenerationComplete</span>?: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">item</span>: <span class="hljs-title class_">FileItem</span>, <span class="hljs-attr">result</span>: <span class="hljs-title class_">CaptionResult</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>;
  <span class="hljs-attr">onCaptionGenerationError</span>?: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">item</span>: <span class="hljs-title class_">FileItem</span>, <span class="hljs-attr">error</span>: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>;
  <span class="hljs-attr">onBatchProcessingStart</span>?: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">items</span>: <span class="hljs-title class_">FileItem</span>[], <span class="hljs-attr">generator</span>: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>;
  <span class="hljs-attr">onBatchProcessingProgress</span>?: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">progress</span>: <span class="hljs-title class_">AnnotationProgress</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>;
  <span class="hljs-attr">onBatchProcessingComplete</span>?: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">results</span>: <span class="hljs-title class_">CaptionResult</span>[]</span>) =&gt;</span> <span class="hljs-built_in">void</span>;
  <span class="hljs-attr">onBatchProcessingError</span>?: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">error</span>: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>;
  <span class="hljs-attr">onAIConfigChange</span>?: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">config</span>: <span class="hljs-title class_">AIGalleryConfig</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>;
}</code></pre><h2>Dependencies</h2>
<ul>
<li><code>reynard-gallery</code> - Core gallery components</li>
<li><code>reynard-annotating</code> - Annotation and caption generation system</li>
<li><code>reynard-caption</code> - Caption editing UI components</li>
<li><code>reynard-ai-shared</code> - Shared AI utilities and types</li>
<li><code>reynard-core</code> - Core Reynard utilities</li>
<li><code>reynard-components</code> - Base UI components</li>
</ul>
<h2>License</h2>
<p>MIT</p>
</div>
    </div>
  </main>
  <footer class="docs-footer"><p>&copy; 2024 Reynard Documentation Test. Built with ❤️ using SolidJS.</p></footer>
</body>
</html>