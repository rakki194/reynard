<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Translation System - Reynard Documentation Test</title>
  <link rel="stylesheet" href="../styles.css">
  <link rel="stylesheet" href="../highlight.css">
  <link rel="icon" href="/favicon.ico">
</head>
<body>
  <nav class="docs-nav">
    <div class="nav-brand"><a href="../index.html">Reynard Documentation Test</a></div>
    <div class="nav-links"><a href="../index.html">Home</a><a href="../api.html">API Reference</a></div>
  </nav>
  <main class="docs-main">
    <div class="docs-content">
      <h1>Translation System</h1>
      <div class="markdown-content"><h1>Translation System</h1>
<h2>Table of Contents</h2>
<ul>
<li><a href="#translation-system">Translation System</a><ul>
<li><a href="#table-of-contents">Table of Contents</a></li>
<li><a href="#directory-structure">Directory Structure</a></li>
<li><a href="#type-system">Type System</a><ul>
<li><a href="#translation-interfaces">Translation Interfaces</a></li>
<li><a href="#type-safe-translation-access">Type-Safe Translation Access</a></li>
</ul>
</li>
<li><a href="#language-support">Language Support</a><ul>
<li><a href="#adding-new-languages">Adding New Languages</a></li>
<li><a href="#pluralization-support">Pluralization Support</a><ul>
<li><a href="#plural-forms">Plural Forms</a></li>
<li><a href="#language-specific-rules">Language-Specific Rules</a></li>
<li><a href="#usage-in-translations">Usage in Translations</a></li>
<li><a href="#helper-functions">Helper Functions</a></li>
<li><a href="#testing-pluralization">Testing Pluralization</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#rtl-support">RTL Support</a><ul>
<li><a href="#best-practices-for-rtl-support">Best Practices for RTL Support</a></li>
<li><a href="#rtl-aware-components">RTL-Aware Components</a></li>
</ul>
</li>
<li><a href="#dynamic-loading">Dynamic Loading</a></li>
<li><a href="#best-practices">Best Practices</a><ul>
<li><a href="#translation-keys">Translation Keys</a></li>
<li><a href="#translation-content">Translation Content</a></li>
<li><a href="#interpolation">Interpolation</a></li>
<li><a href="#maintenance">Maintenance</a></li>
</ul>
</li>
<li><a href="#testing">Testing</a><ul>
<li><a href="#translation-key-tests">Translation Key Tests</a></li>
<li><a href="#pluralization-tests">Pluralization Tests</a></li>
<li><a href="#rtl-tests">RTL Tests</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>The translation system in yipyap provides comprehensive internationalization support with type-safe translations, pluralization rules, and RTL language support.</p>
<h2>Directory Structure</h2>
<p>The translations are in the <code>/src/i18n</code> folder:</p>
<ul>
<li>Language files: <code>/src/i18n/lang/en.ts</code>, <code>/src/i18n/lang/ja.ts</code>, etc.</li>
<li>Type definitions: <code>/src/i18n/types.ts</code></li>
<li>Core functionality: <code>/src/i18n/index.ts</code></li>
</ul>
<h2>Type System</h2>
<h3>Translation Interfaces</h3>
<p>All language files must follow the type definitions in <code>/src/i18n/types.ts</code>, which defines interfaces for different sections:</p>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Translations</span> {
  <span class="hljs-attr">common</span>: <span class="hljs-title class_">CommonTranslations</span>;
  <span class="hljs-attr">settings</span>: <span class="hljs-title class_">SettingsTranslations</span>;
  <span class="hljs-attr">frontPage</span>: <span class="hljs-title class_">FrontPageTranslations</span>;
  <span class="hljs-attr">gallery</span>: <span class="hljs-title class_">GalleryTranslations</span>;
  <span class="hljs-attr">tools</span>: <span class="hljs-title class_">ToolsTranslations</span>;
  <span class="hljs-comment">// ... other sections</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">SettingsTranslations</span> {
  <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">theme</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">language</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-comment">// ... other settings translations</span>
}

<span class="hljs-comment">// Example of nested translations</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">GalleryTranslations</span> {
  <span class="hljs-attr">uploadProgress</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">deleteConfirm</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">multiSelect</span>: {
    <span class="hljs-attr">selected</span>: <span class="hljs-built_in">string</span>;
    <span class="hljs-attr">clear</span>: <span class="hljs-built_in">string</span>;
    <span class="hljs-attr">delete</span>: <span class="hljs-built_in">string</span>;
  };
}</code></pre><h3>Type-Safe Translation Access</h3>
<p>The system provides type-safe access to translation values:</p>
<pre><code class="hljs language-typescript"><span class="hljs-comment">// In components</span>
<span class="hljs-keyword">const</span> message = <span class="hljs-title function_">t</span>(<span class="hljs-string">&quot;gallery.uploadProgress&quot;</span>, { <span class="hljs-attr">progress</span>: <span class="hljs-number">75</span> });

<span class="hljs-comment">// Helper function for nested values</span>
<span class="hljs-keyword">const</span> value = <span class="hljs-title function_">getTranslationValue</span>(translations, <span class="hljs-string">&quot;gallery.multiSelect.selected&quot;</span>);</code></pre><h2>Language Support</h2>
<h3>Adding New Languages</h3>
<ol>
<li><p>Create a new language file in <code>/src/i18n/lang/</code>:</p>
<pre><code class="hljs language-typescript"><span class="hljs-comment">// ja.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">common</span>: {
    <span class="hljs-attr">ok</span>: <span class="hljs-string">&quot;OK&quot;</span>,
    <span class="hljs-attr">cancel</span>: <span class="hljs-string">&quot;キャンセル&quot;</span>,
  },
  <span class="hljs-attr">settings</span>: {
    <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;設定&quot;</span>,
    <span class="hljs-comment">// ... other translations</span>
  },
} <span class="hljs-keyword">satisfies</span> <span class="hljs-title class_">Translations</span>;</code></pre></li>
<li><p>Add the language to the supported languages array in <code>/src/i18n/index.ts</code>:</p>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> languages = [
  { <span class="hljs-attr">code</span>: <span class="hljs-string">&quot;en&quot;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;English&quot;</span> },
  { <span class="hljs-attr">code</span>: <span class="hljs-string">&quot;ja&quot;</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;日本語&quot;</span> },
  <span class="hljs-comment">// Add new language here</span>
] <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>;</code></pre></li>
</ol>
<h3>Pluralization Support</h3>
<p>The system provides comprehensive pluralization support for different language families through a flexible rule-based system. Each language can define its own plural forms and rules for selecting the appropriate form based on the number.</p>
<h4>Plural Forms</h4>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">PluralForms</span> = {
  <span class="hljs-attr">zero</span>?: <span class="hljs-built_in">string</span>; <span class="hljs-comment">// Optional, for languages that have a special zero form (e.g., Arabic)</span>
  <span class="hljs-attr">one</span>: <span class="hljs-built_in">string</span>; <span class="hljs-comment">// Required, singular form (e.g., &quot;1 book&quot;)</span>
  <span class="hljs-attr">two</span>?: <span class="hljs-built_in">string</span>; <span class="hljs-comment">// Optional, dual form (e.g., Arabic: &quot;كتابان&quot;)</span>
  <span class="hljs-attr">few</span>?: <span class="hljs-built_in">string</span>; <span class="hljs-comment">// Optional, for languages with special few form (e.g., Polish: &quot;2 książki&quot;)</span>
  <span class="hljs-attr">many</span>?: <span class="hljs-built_in">string</span>; <span class="hljs-comment">// Optional, for languages with special many form (e.g., Polish: &quot;5 książek&quot;)</span>
  <span class="hljs-attr">other</span>: <span class="hljs-built_in">string</span>; <span class="hljs-comment">// Required, default plural form (e.g., &quot;books&quot;)</span>
};</code></pre><h4>Language-Specific Rules</h4>
<p>The system includes specialized plural rules for different language families:</p>
<ol>
<li><p><strong>Default (English-like)</strong>:</p>
<ul>
<li>Two forms: singular (one) and plural (other)</li>
<li>Example: &quot;1 book&quot; vs &quot;2 books&quot;</li>
</ul>
<pre><code class="hljs language-typescript"><span class="hljs-attr">default</span>: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">n</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">forms</span>: <span class="hljs-title class_">PluralForms</span></span>) =&gt;</span>
  n === <span class="hljs-number">1</span> ? forms.<span class="hljs-property">one</span> : forms.<span class="hljs-property">other</span></code></pre></li>
<li><p><strong>Slavic Languages (Russian, Ukrainian, Bulgarian)</strong>:</p>
<ul>
<li>Three forms based on the last digit(s)</li>
<li>Example (Russian):<ul>
<li>1: книга (one)</li>
<li>2-4: книги (few)</li>
<li>5-20: книг (many)</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-typescript"><span class="hljs-attr">ru</span>: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">n</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">forms</span>: <span class="hljs-title class_">PluralForms</span></span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> lastDigit = n % <span class="hljs-number">10</span>;
  <span class="hljs-keyword">const</span> lastTwoDigits = n % <span class="hljs-number">100</span>;
  <span class="hljs-keyword">if</span> (lastTwoDigits &gt;= <span class="hljs-number">11</span> &amp;&amp; lastTwoDigits &lt;= <span class="hljs-number">19</span>) <span class="hljs-keyword">return</span> forms.<span class="hljs-property">many</span>;
  <span class="hljs-keyword">if</span> (lastDigit === <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> forms.<span class="hljs-property">one</span>;
  <span class="hljs-keyword">if</span> (lastDigit &gt;= <span class="hljs-number">2</span> &amp;&amp; lastDigit &lt;= <span class="hljs-number">4</span>) <span class="hljs-keyword">return</span> forms.<span class="hljs-property">few</span>;
  <span class="hljs-keyword">return</span> forms.<span class="hljs-property">many</span>;
};</code></pre></li>
<li><p><strong>Arabic</strong>:</p>
<ul>
<li>Complex system with singular, dual, and multiple plural forms</li>
<li>Example:<ul>
<li>0: كتب (zero/plural)</li>
<li>1: كتاب (singular)</li>
<li>2: كتابان (dual)</li>
<li>3-10: كتب (plural)</li>
<li>11+: كتابًا (plural large)</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-typescript"><span class="hljs-attr">ar</span>: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">n</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">forms</span>: <span class="hljs-title class_">PluralForms</span></span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (n === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> forms.<span class="hljs-property">zero</span> || forms.<span class="hljs-property">other</span>;
  <span class="hljs-keyword">if</span> (n === <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> forms.<span class="hljs-property">one</span>;
  <span class="hljs-keyword">if</span> (n === <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> forms.<span class="hljs-property">two</span>;
  <span class="hljs-keyword">if</span> (n &gt;= <span class="hljs-number">3</span> &amp;&amp; n &lt;= <span class="hljs-number">10</span>) <span class="hljs-keyword">return</span> forms.<span class="hljs-property">few</span>;
  <span class="hljs-keyword">return</span> forms.<span class="hljs-property">many</span> || forms.<span class="hljs-property">other</span>;
};</code></pre></li>
<li><p><strong>East Asian Languages (Japanese, Chinese, Korean, Vietnamese)</strong>:</p>
<ul>
<li>No grammatical plurals, always use the base form</li>
</ul>
<pre><code class="hljs language-typescript"><span class="hljs-attr">ja</span>: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">_n</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">forms</span>: <span class="hljs-title class_">PluralForms</span></span>) =&gt;</span> forms.<span class="hljs-property">other</span>;</code></pre></li>
</ol>
<h4>Usage in Translations</h4>
<ol>
<li><p><strong>Define Plural Forms</strong>:</p>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">const</span> bookTranslations = {
  <span class="hljs-attr">en</span>: {
    <span class="hljs-attr">one</span>: <span class="hljs-string">&quot;${count} book&quot;</span>,
    <span class="hljs-attr">other</span>: <span class="hljs-string">&quot;${count} books&quot;</span>,
  },
  <span class="hljs-attr">ru</span>: {
    <span class="hljs-attr">one</span>: <span class="hljs-string">&quot;${count} книга&quot;</span>,
    <span class="hljs-attr">few</span>: <span class="hljs-string">&quot;${count} книги&quot;</span>,
    <span class="hljs-attr">many</span>: <span class="hljs-string">&quot;${count} книг&quot;</span>,
  },
  <span class="hljs-attr">ar</span>: {
    <span class="hljs-attr">zero</span>: <span class="hljs-string">&quot;لا كتب&quot;</span>,
    <span class="hljs-attr">one</span>: <span class="hljs-string">&quot;كتاب واحد&quot;</span>,
    <span class="hljs-attr">two</span>: <span class="hljs-string">&quot;كتابان&quot;</span>,
    <span class="hljs-attr">few</span>: <span class="hljs-string">&quot;${count} كتب&quot;</span>,
    <span class="hljs-attr">many</span>: <span class="hljs-string">&quot;${count} كتابًا&quot;</span>,
  },
};</code></pre></li>
<li><p><strong>Use in Components</strong>:</p>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">const</span> message = <span class="hljs-title function_">t</span>(<span class="hljs-string">&quot;books.count&quot;</span>, { <span class="hljs-attr">count</span>: <span class="hljs-number">5</span> });</code></pre></li>
</ol>
<h4>Helper Functions</h4>
<p>The system provides helper functions for creating plural-aware translations:</p>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">const</span> pluralTranslation = <span class="hljs-title function_">createPluralTranslation</span>(forms, lang);
<span class="hljs-keyword">const</span> message = <span class="hljs-title function_">pluralTranslation</span>({ <span class="hljs-attr">count</span>: <span class="hljs-number">5</span> });</code></pre><h4>Testing Pluralization</h4>
<pre><code class="hljs language-typescript"><span class="hljs-title function_">describe</span>(<span class="hljs-string">&quot;Pluralization&quot;</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">it</span>(<span class="hljs-string">&quot;should handle Russian plural forms&quot;</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> forms = {
      <span class="hljs-attr">one</span>: <span class="hljs-string">&quot;${count} книга&quot;</span>,
      <span class="hljs-attr">few</span>: <span class="hljs-string">&quot;${count} книги&quot;</span>,
      <span class="hljs-attr">many</span>: <span class="hljs-string">&quot;${count} книг&quot;</span>,
    };
    <span class="hljs-title function_">expect</span>(<span class="hljs-title function_">getPlural</span>(<span class="hljs-number">1</span>, forms, <span class="hljs-string">&quot;ru&quot;</span>)).<span class="hljs-title function_">toBe</span>(<span class="hljs-string">&quot;1 книга&quot;</span>);
    <span class="hljs-title function_">expect</span>(<span class="hljs-title function_">getPlural</span>(<span class="hljs-number">2</span>, forms, <span class="hljs-string">&quot;ru&quot;</span>)).<span class="hljs-title function_">toBe</span>(<span class="hljs-string">&quot;2 книги&quot;</span>);
    <span class="hljs-title function_">expect</span>(<span class="hljs-title function_">getPlural</span>(<span class="hljs-number">5</span>, forms, <span class="hljs-string">&quot;ru&quot;</span>)).<span class="hljs-title function_">toBe</span>(<span class="hljs-string">&quot;5 книг&quot;</span>);
    <span class="hljs-title function_">expect</span>(<span class="hljs-title function_">getPlural</span>(<span class="hljs-number">11</span>, forms, <span class="hljs-string">&quot;ru&quot;</span>)).<span class="hljs-title function_">toBe</span>(<span class="hljs-string">&quot;11 книг&quot;</span>);
    <span class="hljs-title function_">expect</span>(<span class="hljs-title function_">getPlural</span>(<span class="hljs-number">21</span>, forms, <span class="hljs-string">&quot;ru&quot;</span>)).<span class="hljs-title function_">toBe</span>(<span class="hljs-string">&quot;21 книга&quot;</span>);
  });
});</code></pre><h2>RTL Support</h2>
<p>The system provides comprehensive RTL (right-to-left) support for languages like Arabic (ar), Hebrew (he), and Persian (fa). This is implemented through several layers:</p>
<ol>
<li><p>Automatic Direction Setting:</p>
<pre><code class="hljs language-typescript"><span class="hljs-comment">// In app context</span>
<span class="hljs-title function_">createRenderEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">lang</span> = store.<span class="hljs-property">locale</span>;
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">dir</span> = [<span class="hljs-string">&quot;ar&quot;</span>, <span class="hljs-string">&quot;he&quot;</span>, <span class="hljs-string">&quot;fa&quot;</span>].<span class="hljs-title function_">includes</span>(store.<span class="hljs-property">locale</span>)
    ? <span class="hljs-string">&quot;rtl&quot;</span>
    : <span class="hljs-string">&quot;ltr&quot;</span>;
});</code></pre></li>
<li><p>CSS Logical Properties:</p>
<pre><code class="hljs language-css"><span class="hljs-selector-pseudo">:root</span><span class="hljs-selector-attr">[dir=<span class="hljs-string">&quot;rtl&quot;</span>]</span> {
  <span class="hljs-attr">--start</span>: right;
  <span class="hljs-attr">--end</span>: left;
  <span class="hljs-attr">--font-family-base</span>:
    <span class="hljs-string">&quot;Noto Sans Arabic&quot;</span>, -apple-system, BlinkMacSystemFont, <span class="hljs-string">&quot;Segoe UI&quot;</span>,
    Roboto, sans-serif;
}

<span class="hljs-selector-pseudo">:root</span><span class="hljs-selector-attr">[dir=<span class="hljs-string">&quot;ltr&quot;</span>]</span> {
  <span class="hljs-attr">--start</span>: left;
  <span class="hljs-attr">--end</span>: right;
}</code></pre></li>
<li><p>Language-Specific Font Support:</p>
<pre><code class="hljs language-css"><span class="hljs-selector-tag">body</span><span class="hljs-selector-pseudo">:lang</span>(he) {
  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">&quot;Noto Sans Hebrew&quot;</span>, <span class="hljs-built_in">var</span>(--font-family-base);
  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">1.7</span>;
}

<span class="hljs-selector-tag">body</span><span class="hljs-selector-pseudo">:lang</span>(ar) {
  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">&quot;Noto Sans Arabic&quot;</span>, <span class="hljs-built_in">var</span>(--font-family-base);
  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">1.8</span>;
}

<span class="hljs-selector-tag">body</span><span class="hljs-selector-pseudo">:lang</span>(fa) {
  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">&quot;Noto Sans Arabic&quot;</span>, <span class="hljs-built_in">var</span>(--font-family-base);
  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">1.8</span>;
}</code></pre></li>
<li><p>Font Loading:</p>
<pre><code class="hljs language-css"><span class="hljs-keyword">@import</span> url(<span class="hljs-string">&quot;https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@400;500;700&amp;display=swap&quot;</span>);
<span class="hljs-keyword">@import</span> url(<span class="hljs-string">&quot;https://fonts.googleapis.com/css2?family=Noto+Sans+Hebrew&amp;display=swap&quot;</span>);</code></pre></li>
</ol>
<h3>Best Practices for RTL Support</h3>
<p>When working with RTL languages, it&#39;s important to use CSS logical properties like <code>margin-inline-start</code> and <code>padding-inline-end</code> instead of directional properties like <code>margin-left</code> and <code>padding-right</code>. The <code>--start</code> and <code>--end</code> CSS variables should be used for positioning elements that need to flip in RTL layouts. Special attention must be paid to text alignment and icon direction in RTL layouts. All layouts should be thoroughly tested with both LTR and RTL content to ensure proper display. Different scripts require appropriate line heights - Hebrew text works best with 1.7 while Arabic and Persian scripts need 1.8 for optimal readability.</p>
<h3>RTL-Aware Components</h3>
<p>Components should be designed to handle both LTR and RTL layouts using CSS logical properties (e.g., <code>padding-inline-start</code>, <code>margin-inline-end</code>) and direction-aware values (<code>text-align: start|end</code>). Avoid framework-specific styling examples.</p>
<h2>Dynamic Loading</h2>
<p>Translations are dynamically imported by their specific language files. See <code>src/contexts/app.tsx</code> for how translation modules are loaded using dynamic imports keyed by locale.</p>
<h2>Best Practices</h2>
<h3>Translation Keys</h3>
<p>When creating translation keys, it&#39;s important to follow consistent naming patterns throughout the codebase. Related translations should be grouped together logically to maintain organization. Keys should be descriptive enough to understand their purpose while remaining concise and avoiding unnecessary verbosity. Using dot notation helps establish clear hierarchical relationships between translations. Dot notation refers to using periods to separate hierarchical levels in translation keys, such as <code>settings.appearance.theme</code> or <code>gallery.images.count</code>. This creates a clear nested structure that makes it easy to organize and access translations.</p>
<h3>Translation Content</h3>
<p>Translation content should be written in clear, concise language that users can easily understand. Maintain consistent sentence casing across all translations to provide a polished user experience. Technical jargon should be avoided unless absolutely necessary for the target audience. When the meaning or usage of a translation may not be immediately obvious, include context comments to help other developers and translators understand how the text is used.</p>
<h3>Interpolation</h3>
<p>The interpolation system relies on named parameters to provide clarity and prevent errors from parameter order changes. All required parameters should be clearly documented so translators understand what values will be inserted. Special attention must be paid to how word order differences between languages affect interpolated values. The system needs to appropriately handle plural forms based on the grammatical rules of each target language.</p>
<h3>Maintenance</h3>
<p>Regular maintenance is crucial for keeping translations synchronized across all supported languages. Missing translations should be documented to ensure they get addressed. Type definitions must be updated whenever new translations are added to maintain type safety. Testing translations with different languages helps catch issues early and ensures a consistent experience for all users.</p>
<h2>Testing</h2>
<h3>Translation Key Tests</h3>
<pre><code class="hljs language-typescript"><span class="hljs-title function_">describe</span>(<span class="hljs-string">&quot;Translation Keys&quot;</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">it</span>(<span class="hljs-string">&quot;should have all required keys&quot;</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> required = [<span class="hljs-string">&quot;common.ok&quot;</span>, <span class="hljs-string">&quot;common.cancel&quot;</span>];
    required.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">key</span>) =&gt;</span> {
      <span class="hljs-title function_">expect</span>(<span class="hljs-title function_">getTranslationValue</span>(en, key)).<span class="hljs-title function_">toBeDefined</span>();
      <span class="hljs-title function_">expect</span>(<span class="hljs-title function_">getTranslationValue</span>(ja, key)).<span class="hljs-title function_">toBeDefined</span>();
    });
  });
});</code></pre><h3>Pluralization Tests</h3>
<pre><code class="hljs language-typescript"><span class="hljs-title function_">describe</span>(<span class="hljs-string">&quot;Pluralization&quot;</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">it</span>(<span class="hljs-string">&quot;should handle Russian plural forms&quot;</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> forms = {
      <span class="hljs-attr">one</span>: <span class="hljs-string">&quot;файл&quot;</span>,
      <span class="hljs-attr">few</span>: <span class="hljs-string">&quot;файла&quot;</span>,
      <span class="hljs-attr">many</span>: <span class="hljs-string">&quot;файлов&quot;</span>,
    };
    <span class="hljs-title function_">expect</span>(<span class="hljs-title function_">getRussianPlural</span>(<span class="hljs-number">1</span>, forms)).<span class="hljs-title function_">toBe</span>(<span class="hljs-string">&quot;файл&quot;</span>);
    <span class="hljs-title function_">expect</span>(<span class="hljs-title function_">getRussianPlural</span>(<span class="hljs-number">2</span>, forms)).<span class="hljs-title function_">toBe</span>(<span class="hljs-string">&quot;файла&quot;</span>);
    <span class="hljs-title function_">expect</span>(<span class="hljs-title function_">getRussianPlural</span>(<span class="hljs-number">5</span>, forms)).<span class="hljs-title function_">toBe</span>(<span class="hljs-string">&quot;файлов&quot;</span>);
  });
});</code></pre><h3>RTL Tests</h3>
<pre><code class="hljs language-typescript"><span class="hljs-title function_">describe</span>(<span class="hljs-string">&quot;RTL Support&quot;</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">it</span>(<span class="hljs-string">&quot;should detect RTL languages&quot;</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">expect</span>(<span class="hljs-title function_">getLanguageDirection</span>(<span class="hljs-string">&quot;ar&quot;</span>)).<span class="hljs-title function_">toBe</span>(<span class="hljs-string">&quot;rtl&quot;</span>);
    <span class="hljs-title function_">expect</span>(<span class="hljs-title function_">getLanguageDirection</span>(<span class="hljs-string">&quot;en&quot;</span>)).<span class="hljs-title function_">toBe</span>(<span class="hljs-string">&quot;ltr&quot;</span>);
  });
});</code></pre><p>When working with translations, it&#39;s important to keep all translations synchronized across the supported languages to maintain consistency. Testing should be performed with various language contexts to ensure proper functionality in different locales. Special attention must be paid to word order differences between languages, as sentence structure can vary significantly. The system needs to properly handle pluralization rules according to each language&#39;s grammatical requirements. RTL language support should be maintained throughout the application to provide a seamless experience for users of those languages. Finally, translation requirements should be thoroughly documented to help translators understand the context and parameters needed for each string.</p>
</div>
    </div>
  </main>
  <footer class="docs-footer"><p>&copy; 2024 Reynard Documentation Test. Built with ❤️ using SolidJS.</p></footer>
</body>
</html>