<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Text Transformations - Reynard Documentation Test</title>
  <link rel="stylesheet" href="../styles.css">
  <link rel="stylesheet" href="../highlight.css">
  <link rel="icon" href="/favicon.ico">
</head>
<body>
  <nav class="docs-nav">
    <div class="nav-brand"><a href="../index.html">Reynard Documentation Test</a></div>
    <div class="nav-links"><a href="../index.html">Home</a><a href="../api.html">API Reference</a></div>
  </nav>
  <main class="docs-main">
    <div class="docs-content">
      <h1>Text Transformations</h1>
      <div class="markdown-content"><h1>Text Transformations</h1>
<p>The text transformation system allows users to modify text content through various transformation types and custom rules. This document outlines the architecture, features, and usage of the transformation system.</p>
<h2>Architecture</h2>
<p>The transformation system consists of several key components working together. The <code>TransformationsContext</code> provides global state management for all transformations across the application. The <code>TransformationSettings</code> component offers a user interface for managing and configuring transformations. Finally, the <code>CaptionTools</code> component integrates these transformations with the image caption editor for seamless text modification capabilities.</p>
<h3>Core Types</h3>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">TransformationType</span> = <span class="hljs-string">&quot;searchReplace&quot;</span> | <span class="hljs-string">&quot;case&quot;</span> | <span class="hljs-string">&quot;trim&quot;</span> | <span class="hljs-string">&quot;wrap&quot;</span> | <span class="hljs-string">&quot;number&quot;</span>;

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">BaseTransformation</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">description</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">icon</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">enabled</span>: <span class="hljs-built_in">boolean</span>;
  <span class="hljs-attr">isCustom</span>?: <span class="hljs-built_in">boolean</span>;
  <span class="hljs-attr">type</span>: <span class="hljs-title class_">TransformationType</span>;
}</code></pre><h2>Transformation Types</h2>
<h3>Search and Replace</h3>
<p>The search and replace transformation enables pattern-based text replacement using regular expressions. Users can specify an optional replacement text to substitute matched patterns. A common use case is replacing underscores with spaces to improve text readability.</p>
<h3>Case Transformations</h3>
<p>Case transformations allow modifying the letter casing of text. Users can convert text to UPPERCASE, lowercase, Title Case where each word is capitalized, or Sentence case where only the first letter of sentences are capitalized.</p>
<h3>Trim Operations</h3>
<p>Trim operations help clean up excess whitespace in text. Users can trim all spaces from both ends, trim only from the start or end of text, or remove duplicate spaces between words to normalize spacing.</p>
<h3>Text Wrapping</h3>
<p>Text wrapping enables adding surrounding text by specifying prefix and suffix text to wrap around the content. This is particularly useful for adding brackets, quotes, or other enclosing characters to text.</p>
<h3>Number Operations</h3>
<p>Number operations provide specialized handling of numeric content. Users can remove numbers entirely from text, format numbers with minimum digit requirements, or extract only the numeric portions of text.</p>
<h2>Custom Transformations</h2>
<p>Custom transformations provide users with full control over text modifications. Each custom transformation includes a descriptive name and detailed description to identify its purpose. Users can select an icon from a predefined set to visually distinguish the transformation. Type-specific settings allow fine-tuning the transformation behavior. Each transformation can be individually enabled or disabled to control when it is applied.</p>
<h3>Available Icons</h3>
<ul>
<li>speaker</li>
<li>arrowUndo</li>
<li>edit</li>
<li>tag</li>
<li>notepad</li>
<li>subtitles</li>
<li>textSortAscending</li>
<li>textAlign</li>
<li>info</li>
<li>search</li>
</ul>
<h2>Usage</h2>
<h3>Creating a Custom Transformation</h3>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">const</span> transformation = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Custom Replace&quot;</span>,
  <span class="hljs-attr">description</span>: <span class="hljs-string">&quot;Replace pattern with text&quot;</span>,
  <span class="hljs-attr">icon</span>: <span class="hljs-string">&quot;edit&quot;</span>,
  <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;searchReplace&quot;</span>,
  <span class="hljs-attr">pattern</span>: <span class="hljs-string">&quot;\\d+&quot;</span>,
  <span class="hljs-attr">replacement</span>: <span class="hljs-string">&quot;#&quot;</span>,
};
<span class="hljs-title function_">addTransformation</span>(transformation);</code></pre><h3>Applying Transformations</h3>
<p>Transformations can be applied individually through the caption tools interface. Additionally, transformations can be configured to run automatically when enabled in the application settings.</p>
<h2>Storage</h2>
<p>Transformations are persisted in localStorage for data persistence. The default set of transformations remains available at all times as part of the core functionality. Any custom transformations created by users are saved under the <code>yipyap:transformations</code> key in localStorage. The enabled/disabled state of each transformation is preserved between sessions to maintain user preferences.</p>
<h2>Best Practices</h2>
<p>When working with transformations, it&#39;s important to validate regex patterns before applying them to prevent errors or unintended behavior. The order of enabled transformations should be carefully considered as it can impact overall performance. Clear success and error states should be shown to users when transformations are applied to provide proper feedback. Proper type assertions should be used when working with transformation objects to maintain type safety throughout the application.</p>
</div>
    </div>
  </main>
  <footer class="docs-footer"><p>&copy; 2024 Reynard Documentation Test. Built with ❤️ using SolidJS.</p></footer>
</body>
</html>