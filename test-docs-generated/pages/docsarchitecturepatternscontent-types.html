<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Content-Type Headers - Reynard Documentation Test</title>
  <link rel="stylesheet" href="../styles.css">
  <link rel="stylesheet" href="../highlight.css">
  <link rel="icon" href="/favicon.ico">
</head>
<body>
  <nav class="docs-nav">
    <div class="nav-brand"><a href="../index.html">Reynard Documentation Test</a></div>
    <div class="nav-links"><a href="../index.html">Home</a><a href="../api.html">API Reference</a></div>
  </nav>
  <main class="docs-main">
    <div class="docs-content">
      <h1>Content-Type Headers</h1>
      <div class="markdown-content"><h1>Content-Type Headers</h1>
<p>The application serves various types of resources, each requiring appropriate Content-Type headers to ensure proper handling by browsers and clients.</p>
<h2>Table of Contents</h2>
<hr>
<ul>
<li><a href="#content-type-headers">Content-Type Headers</a><ul>
<li><a href="#table-of-contents">Table of Contents</a></li>
<li><a href="#media-types">Media Types</a><ul>
<li><a href="#images">Images</a></li>
<li><a href="#scripts-and-styles">Scripts and Styles</a></li>
<li><a href="#data">Data</a></li>
</ul>
</li>
<li><a href="#development-server-configuration">Development Server Configuration</a></li>
<li><a href="#production-configuration">Production Configuration</a></li>
<li><a href="#best-practices">Best Practices</a></li>
<li><a href="#common-issues">Common Issues</a><ul>
<li><a href="#missing-charset">Missing Charset</a></li>
<li><a href="#incorrect-javascript-content-type">Incorrect JavaScript Content-Type</a></li>
<li><a href="#svg-content-type">SVG Content-Type</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2>Media Types</h2>
<hr>
<h3>Images</h3>
<ul>
<li>PNG files: <code>image/png</code></li>
<li>JPEG files: <code>image/jpeg</code></li>
<li>SVG files: <code>image/svg+xml; charset=utf-8</code></li>
<li>WebP files: <code>image/webp</code></li>
<li>GIF files: <code>image/gif</code></li>
</ul>
<h3>Scripts and Styles</h3>
<ul>
<li>JavaScript files: <code>text/javascript; charset=utf-8</code></li>
<li>TypeScript files: <code>application/x-typescript; charset=utf-8</code></li>
<li>CSS files: <code>text/css; charset=utf-8</code></li>
<li>JSX files: <code>text/jsx; charset=utf-8</code></li>
<li>TSX files: <code>application/x-typescript; charset=utf-8</code></li>
</ul>
<h3>Data</h3>
<ul>
<li>JSON files: <code>application/json; charset=utf-8</code></li>
<li>Text files: <code>text/plain; charset=utf-8</code></li>
</ul>
<h2>Development Server Configuration</h2>
<hr>
<p>The development server is configured to automatically set appropriate Content-Type headers through Vite&#39;s server middleware. This configuration is defined in <code>vite.config.ts</code>.</p>
<p>The middleware handles common file extensions and sets their corresponding Content-Type headers:</p>
<pre><code class="hljs language-typescript">server.<span class="hljs-property">middlewares</span>.<span class="hljs-title function_">use</span>(<span class="hljs-function">(<span class="hljs-params">req, res, next</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (req.<span class="hljs-property">url</span>?.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">&quot;.css&quot;</span>)) {
    res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">&quot;Content-Type&quot;</span>, <span class="hljs-string">&quot;text/css; charset=utf-8&quot;</span>);
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (req.<span class="hljs-property">url</span>?.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">&quot;.svg&quot;</span>)) {
    res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">&quot;Content-Type&quot;</span>, <span class="hljs-string">&quot;image/svg+xml; charset=utf-8&quot;</span>);
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (req.<span class="hljs-property">url</span>?.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">&quot;.jsx&quot;</span>)) {
    res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">&quot;Content-Type&quot;</span>, <span class="hljs-string">&quot;text/jsx; charset=utf-8&quot;</span>);
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (req.<span class="hljs-property">url</span>?.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">&quot;.tsx&quot;</span>) || req.<span class="hljs-property">url</span>?.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">&quot;.ts&quot;</span>)) {
    res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">&quot;Content-Type&quot;</span>, <span class="hljs-string">&quot;application/x-typescript; charset=utf-8&quot;</span>);
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (req.<span class="hljs-property">url</span>?.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">&quot;.mjs&quot;</span>)) {
    res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">&quot;Content-Type&quot;</span>, <span class="hljs-string">&quot;application/javascript; charset=utf-8&quot;</span>);
  }
  <span class="hljs-title function_">next</span>();
});</code></pre><h2>Production Configuration</h2>
<hr>
<p>In production, the web server (e.g., Nginx, Apache) should be configured to send appropriate Content-Type headers. The server configuration should include mappings for all media types used by the application.</p>
<p>Example Nginx configuration:</p>
<pre><code class="hljs language-nginx"><span class="hljs-section">types</span> {
    text/<span class="hljs-attribute">html</span>                             html htm shtml;
    text/<span class="hljs-attribute">css</span>                              css;
    text/<span class="hljs-attribute">javascript</span>                       js;
    application/x-<span class="hljs-attribute">typescript</span>              ts tsx;
    image/<span class="hljs-attribute">jpeg</span>                            jpeg jpg;
    image/<span class="hljs-attribute">png</span>                             png;
    image/svg+<span class="hljs-attribute">xml</span>                         svg svgz;
    image/<span class="hljs-attribute">gif</span>                             gif;
    image/<span class="hljs-attribute">webp</span>                            webp;
}</code></pre><h2>Best Practices</h2>
<hr>
<ol>
<li>Always include the charset parameter for text-based content types</li>
<li>Use standard MIME types as defined by IANA</li>
<li>Set appropriate Content-Type headers for all responses</li>
<li>Include X-Content-Type-Options: nosniff header to prevent MIME type sniffing</li>
<li>Validate Content-Type headers in development and production environments</li>
</ol>
<h2>Common Issues</h2>
<hr>
<h3>Missing Charset</h3>
<p>Text-based resources should include the charset parameter to ensure proper character encoding interpretation. The application uses UTF-8 encoding for all text-based resources.</p>
<h3>Incorrect JavaScript Content-Type</h3>
<p>While both <code>application/javascript</code> and <code>text/javascript</code> are valid, the HTML specification recommends using <code>text/javascript</code>. The application follows this recommendation.</p>
<h3>SVG Content-Type</h3>
<p>SVG files require the <code>image/svg+xml</code> content type with UTF-8 charset for proper rendering and script execution within the SVG.</p>
</div>
    </div>
  </main>
  <footer class="docs-footer"><p>&copy; 2024 Reynard Documentation Test. Built with ❤️ using SolidJS.</p></footer>
</body>
</html>