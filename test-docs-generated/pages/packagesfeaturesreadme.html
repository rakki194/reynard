<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>reynard-features - Reynard Documentation Test</title>
  <link rel="stylesheet" href="../styles.css">
  <link rel="stylesheet" href="../highlight.css">
  <link rel="icon" href="/favicon.ico">
</head>
<body>
  <nav class="docs-nav">
    <div class="nav-brand"><a href="../index.html">Reynard Documentation Test</a></div>
    <div class="nav-links"><a href="../index.html">Home</a><a href="../api.html">API Reference</a></div>
  </nav>
  <main class="docs-main">
    <div class="docs-content">
      <h1>reynard-features</h1>
      <div class="markdown-content"><h1>reynard-features</h1>
<p>Advanced feature system for managing application features, dependencies, and capabilities. This package provides a comprehensive framework for feature registration, dependency resolution, and runtime feature management.</p>
<h2>Features</h2>
<ul>
<li><strong>Feature Registry</strong>: Centralized registration and management of application features</li>
<li><strong>Dependency Resolution</strong>: Automatic dependency checking and resolution</li>
<li><strong>Service-Aware Features</strong>: Features that depend on external services</li>
<li><strong>Reactive State</strong>: SolidJS integration with reactive feature status updates</li>
<li><strong>Configuration Management</strong>: Runtime feature configuration and customization</li>
<li><strong>Preset Definitions</strong>: Common feature definitions for typical applications</li>
<li><strong>Health Monitoring</strong>: Feature health scoring and status tracking</li>
</ul>
<h2>Installation</h2>
<pre><code class="hljs language-bash">npm install reynard-features</code></pre><h2>Usage</h2>
<h3>Basic Setup</h3>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FeatureProvider</span>, useFeatures } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;reynard-features&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-variable constant_">COMMON_FEATURES</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;reynard-features/presets&#x27;</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">FeatureProvider</span> <span class="hljs-attr">config</span>=<span class="hljs-string">{{</span>
      <span class="hljs-attr">features:</span> <span class="hljs-attr">COMMON_FEATURES</span>,
      <span class="hljs-attr">serviceChecker:</span> (<span class="hljs-attr">serviceName</span>) =&gt;</span> {
        // Check if service is available
        return checkServiceAvailability(serviceName);
      },
      autoRefresh: true,
      refreshInterval: 30000
    }}&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">MyApp</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">FeatureProvider</span>&gt;</span></span>
  );
}</code></pre><h3>Using Features in Components</h3>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">import</span> { useFeatureAvailable, useFeatureStatus } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;reynard-features&#x27;</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">MyComponent</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> isImageProcessingAvailable = <span class="hljs-title function_">useFeatureAvailable</span>(<span class="hljs-string">&#x27;image-processing&#x27;</span>);
  <span class="hljs-keyword">const</span> captionStatus = <span class="hljs-title function_">useFeatureStatus</span>(<span class="hljs-string">&#x27;caption-generation&#x27;</span>);

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      {isImageProcessingAvailable() &amp;&amp; (
        <span class="hljs-tag">&lt;<span class="hljs-name">ImageProcessor</span> /&gt;</span>
      )}

      {captionStatus()?.degraded &amp;&amp; (
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;warning&quot;</span>&gt;</span>
          Caption generation is degraded: {captionStatus()?.message}
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      )}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}</code></pre><h3>Feature-Aware Components</h3>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">import</span> { useFeatureAware } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;reynard-features&#x27;</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">FeatureAwareComponent</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> { isAvailable, isDegraded, shouldRender, fallback } = <span class="hljs-title function_">useFeatureAware</span>(
    <span class="hljs-string">&#x27;object-detection&#x27;</span>,
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Object detection not available<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      {shouldRender() ? (
        <span class="hljs-tag">&lt;<span class="hljs-name">ObjectDetector</span> /&gt;</span>
      ) : (
        fallback
      )}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}</code></pre><h3>Feature Configuration</h3>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">import</span> { useFeatureConfiguration } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;reynard-features&#x27;</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">FeatureSettings</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> { config, updateConfig, setConfigValue } = <span class="hljs-title function_">useFeatureConfiguration</span>(<span class="hljs-string">&#x27;image-processing&#x27;</span>);

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleThresholdChange</span> = (<span class="hljs-params"><span class="hljs-attr">value</span>: <span class="hljs-built_in">number</span></span>) =&gt; {
    <span class="hljs-title function_">setConfigValue</span>(<span class="hljs-string">&#x27;threshold&#x27;</span>, value);
  };

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>
        Processing Threshold:
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
          <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;range&quot;</span>
          <span class="hljs-attr">value</span>=<span class="hljs-string">{config()?.threshold</span> || <span class="hljs-attr">0.5</span>}
          <span class="hljs-attr">onInput</span>=<span class="hljs-string">{(e)</span> =&gt;</span> handleThresholdChange(parseFloat(e.target.value))}
        /&gt;
      <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}</code></pre><h3>Custom Feature Definitions</h3>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FeatureProvider</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;reynard-features&#x27;</span>;

<span class="hljs-keyword">const</span> customFeatures = [
  {
    <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;my-custom-feature&#x27;</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Custom Feature&#x27;</span>,
    <span class="hljs-attr">description</span>: <span class="hljs-string">&#x27;A custom feature for my application&#x27;</span>,
    <span class="hljs-attr">dependencies</span>: [
      { <span class="hljs-attr">services</span>: [<span class="hljs-string">&#x27;MyService&#x27;</span>], <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span> },
      { <span class="hljs-attr">services</span>: [<span class="hljs-string">&#x27;OptionalService&#x27;</span>], <span class="hljs-attr">required</span>: <span class="hljs-literal">false</span> }
    ],
    <span class="hljs-attr">category</span>: <span class="hljs-string">&#x27;utility&#x27;</span>,
    <span class="hljs-attr">priority</span>: <span class="hljs-string">&#x27;medium&#x27;</span>,
    <span class="hljs-attr">tags</span>: [<span class="hljs-string">&#x27;custom&#x27;</span>, <span class="hljs-string">&#x27;utility&#x27;</span>],
    <span class="hljs-attr">defaultConfig</span>: {
      <span class="hljs-attr">enabled</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">timeout</span>: <span class="hljs-number">5000</span>
    }
  }
];

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">FeatureProvider</span> <span class="hljs-attr">config</span>=<span class="hljs-string">{{</span>
      <span class="hljs-attr">features:</span> <span class="hljs-attr">customFeatures</span>,
      <span class="hljs-attr">serviceChecker:</span> (<span class="hljs-attr">serviceName</span>) =&gt;</span> checkService(serviceName)
    }}&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">MyApp</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">FeatureProvider</span>&gt;</span></span>
  );
}</code></pre><h3>Dependency Resolution</h3>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">DependencyResolver</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;reynard-features&quot;</span>;

<span class="hljs-keyword">const</span> resolver = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DependencyResolver</span>();

<span class="hljs-comment">// Add features</span>
resolver.<span class="hljs-title function_">addFeature</span>(myFeature);

<span class="hljs-comment">// Set service availability</span>
resolver.<span class="hljs-title function_">setServiceAvailability</span>(<span class="hljs-string">&quot;MyService&quot;</span>, <span class="hljs-literal">true</span>);

<span class="hljs-comment">// Resolve dependencies</span>
<span class="hljs-keyword">const</span> result = resolver.<span class="hljs-title function_">resolveDependencies</span>();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Resolvable features:&quot;</span>, result.<span class="hljs-property">resolvable</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Unresolvable features:&quot;</span>, result.<span class="hljs-property">unresolvable</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Resolution order:&quot;</span>, result.<span class="hljs-property">resolutionOrder</span>);</code></pre><h3>Feature Categories and Priorities</h3>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">import</span> {
  <span class="hljs-variable constant_">FEATURE_CATEGORIES</span>,
  <span class="hljs-variable constant_">FEATURE_PRIORITIES</span>,
  useFeaturesByCategory,
  useFeaturesByPriority
} <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;reynard-features&#x27;</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">FeatureDashboard</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> coreFeatures = <span class="hljs-title function_">useFeaturesByCategory</span>(<span class="hljs-string">&#x27;core&#x27;</span>);
  <span class="hljs-keyword">const</span> criticalFeatures = <span class="hljs-title function_">useFeaturesByPriority</span>(<span class="hljs-string">&#x27;critical&#x27;</span>);

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Core Features<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      {coreFeatures().map(feature =&gt; (
        <span class="hljs-tag">&lt;<span class="hljs-name">FeatureCard</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{feature.id}</span> <span class="hljs-attr">feature</span>=<span class="hljs-string">{feature}</span> /&gt;</span>
      ))}

      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Critical Features<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      {criticalFeatures().map(feature =&gt; (
        <span class="hljs-tag">&lt;<span class="hljs-name">FeatureCard</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{feature.id}</span> <span class="hljs-attr">feature</span>=<span class="hljs-string">{feature}</span> /&gt;</span>
      ))}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}</code></pre><h2>API Reference</h2>
<h3>Core Types</h3>
<ul>
<li><code>FeatureDefinition</code> - Feature configuration interface</li>
<li><code>FeatureStatus</code> - Runtime feature status information</li>
<li><code>FeatureDependency</code> - Service dependency definition</li>
<li><code>FeatureConfig</code> - Feature system configuration</li>
</ul>
<h3>Hooks</h3>
<ul>
<li><code>useFeatures()</code> - Access the feature context</li>
<li><code>useFeatureAvailable(featureId)</code> - Check if feature is available</li>
<li><code>useFeatureDegraded(featureId)</code> - Check if feature is degraded</li>
<li><code>useFeatureStatus(featureId)</code> - Get detailed feature status</li>
<li><code>useFeatureConfig(featureId)</code> - Get feature configuration</li>
<li><code>useFeaturesByCategory(category)</code> - Get features by category</li>
<li><code>useFeaturesByPriority(priority)</code> - Get features by priority</li>
<li><code>useCriticalFeatures()</code> - Get critical features status</li>
<li><code>useFeaturesByService(serviceName)</code> - Get features dependent on service</li>
<li><code>useFeatureAware(featureId, fallback)</code> - Create feature-aware component</li>
<li><code>useFeatureConfiguration(featureId)</code> - Manage feature configuration</li>
</ul>
<h3>Classes</h3>
<ul>
<li><code>FeatureRegistry</code> - Feature registration and management</li>
<li><code>FeatureManager</code> - Complete feature system management</li>
<li><code>DependencyResolver</code> - Dependency resolution and analysis</li>
</ul>
<h3>Presets</h3>
<ul>
<li><code>COMMON_FEATURES</code> - Predefined common features</li>
<li><code>FEATURE_CATEGORIES</code> - Feature category definitions</li>
<li><code>FEATURE_PRIORITIES</code> - Feature priority definitions</li>
</ul>
<h2>Feature Categories</h2>
<ul>
<li><strong>core</strong>: Essential features required for basic functionality</li>
<li><strong>ml</strong>: Machine learning and AI capabilities</li>
<li><strong>integration</strong>: Third-party service integrations</li>
<li><strong>utility</strong>: Supporting utilities and tools</li>
<li><strong>ui</strong>: User interface and experience features</li>
<li><strong>data</strong>: Data processing and management features</li>
</ul>
<h2>Feature Priorities</h2>
<ul>
<li><strong>critical</strong>: Essential for application functionality</li>
<li><strong>high</strong>: Important for core user experience</li>
<li><strong>medium</strong>: Enhances user experience</li>
<li><strong>low</strong>: Nice to have features</li>
</ul>
<h2>Service Dependencies</h2>
<p>Features can depend on external services with the following options:</p>
<ul>
<li><strong>Required</strong>: Feature is unavailable if service is missing</li>
<li><strong>Optional</strong>: Feature is degraded if service is missing</li>
<li><strong>Version Requirements</strong>: Specify minimum/maximum service versions</li>
<li><strong>Custom Messages</strong>: Provide custom error messages for missing services</li>
</ul>
<h2>Configuration</h2>
<p>Features support runtime configuration through:</p>
<ul>
<li><strong>Default Configuration</strong>: Set default values in feature definition</li>
<li><strong>Runtime Updates</strong>: Modify configuration at runtime</li>
<li><strong>Validation</strong>: Validate configuration against schema</li>
<li><strong>Persistence</strong>: Save configuration changes</li>
</ul>
<h2>Health Monitoring</h2>
<p>The feature system provides comprehensive health monitoring:</p>
<ul>
<li><strong>Health Scores</strong>: 0-100 health score for each feature</li>
<li><strong>Status Tracking</strong>: Real-time status updates</li>
<li><strong>Dependency Analysis</strong>: Track service dependencies</li>
<li><strong>Performance Metrics</strong>: Monitor feature performance</li>
</ul>
<h2>TypeScript Support</h2>
<p>This package is written in TypeScript and provides full type definitions for all features, configurations, and APIs.</p>
<h2>Contributing</h2>
<p>This package is part of the Reynard framework. When contributing:</p>
<ol>
<li>Ensure features are truly reusable and not tied to specific applications</li>
<li>Provide comprehensive TypeScript types</li>
<li>Include proper error handling and validation</li>
<li>Add JSDoc comments for better developer experience</li>
<li>Test features in isolation</li>
</ol>
<h2>License</h2>
<p>MIT</p>
</div>
    </div>
  </main>
  <footer class="docs-footer"><p>&copy; 2024 Reynard Documentation Test. Built with ❤️ using SolidJS.</p></footer>
</body>
</html>