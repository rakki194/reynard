<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Radial Gradient - Reynard Documentation Test</title>
  <link rel="stylesheet" href="../styles.css">
  <link rel="stylesheet" href="../highlight.css">
  <link rel="icon" href="/favicon.ico">
</head>
<body>
  <nav class="docs-nav">
    <div class="nav-brand"><a href="../index.html">Reynard Documentation Test</a></div>
    <div class="nav-links"><a href="../index.html">Home</a><a href="../api.html">API Reference</a></div>
  </nav>
  <main class="docs-main">
    <div class="docs-content">
      <h1>Radial Gradient</h1>
      <div class="markdown-content"><h1>Radial Gradient</h1>
<pre><code class="hljs"><span class="hljs-comment">// &lt;block:setup:3&gt;</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">DATA_COUNT</span> = <span class="hljs-number">5</span>;
Utils.<span class="hljs-title function_ invoke__">srand</span>(<span class="hljs-number">110</span>);

<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">chartColors</span> = Utils.CHART_COLORS;
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">colors</span> = [chartColors.red, chartColors.orange, chartColors.yellow, chartColors.green, chartColors.blue];

<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">cache</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
let width = <span class="hljs-literal">null</span>;
let height = <span class="hljs-literal">null</span>;

<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">actions</span> = [
  {
    name: <span class="hljs-string">&#x27;Randomize&#x27;</span>,
    <span class="hljs-title function_ invoke__">handler</span>(chart) {
      chart.data.datasets.<span class="hljs-title function_ invoke__">forEach</span>(dataset =&gt; {
        dataset.data = <span class="hljs-title function_ invoke__">generateData</span>();
      });
      chart.<span class="hljs-title function_ invoke__">update</span>();
    }
  },
];
<span class="hljs-comment">// &lt;/block:setup&gt;</span>

<span class="hljs-comment">// &lt;block:createRadialGradient3:0&gt;</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createRadialGradient3</span>(<span class="hljs-params">context, c1, c2, c3</span>) </span>{
  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">chartArea</span> = context.chart.chartArea;
  <span class="hljs-keyword">if</span> (!chartArea) {
    <span class="hljs-comment">// This case happens on initial chart load</span>
    <span class="hljs-keyword">return</span>;
  }

  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">chartWidth</span> = chartArea.right - chartArea.left;
  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">chartHeight</span> = chartArea.bottom - chartArea.top;
  <span class="hljs-keyword">if</span> (width !== chartWidth || height !== chartHeight) {
    cache.<span class="hljs-title function_ invoke__">clear</span>();
  }
  let gradient = cache.<span class="hljs-title function_ invoke__">get</span>(c1 + c2 + c3);
  <span class="hljs-keyword">if</span> (!gradient) {
    <span class="hljs-comment">// Create the gradient because this is either the first render</span>
    <span class="hljs-comment">// or the size of the chart has changed</span>
    width = chartWidth;
    height = chartHeight;
    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">centerX</span> = (chartArea.left + chartArea.right) / <span class="hljs-number">2</span>;
    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">centerY</span> = (chartArea.top + chartArea.bottom) / <span class="hljs-number">2</span>;
    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">r</span> = Math.<span class="hljs-title function_ invoke__">min</span>(
      (chartArea.right - chartArea.left) / <span class="hljs-number">2</span>,
      (chartArea.bottom - chartArea.top) / <span class="hljs-number">2</span>
    );
    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">ctx</span> = context.chart.ctx;
    gradient = ctx.<span class="hljs-title function_ invoke__">createRadialGradient</span>(centerX, centerY, <span class="hljs-number">0</span>, centerX, centerY, r);
    gradient.<span class="hljs-title function_ invoke__">addColorStop</span>(<span class="hljs-number">0</span>, c1);
    gradient.<span class="hljs-title function_ invoke__">addColorStop</span>(<span class="hljs-number">0.5</span>, c2);
    gradient.<span class="hljs-title function_ invoke__">addColorStop</span>(<span class="hljs-number">1</span>, c3);
    cache.<span class="hljs-title function_ invoke__">set</span>(c1 + c2 + c3, gradient);
  }

  <span class="hljs-keyword">return</span> gradient;
}
<span class="hljs-comment">// &lt;/block:createRadialGradient3&gt;</span>

<span class="hljs-comment">// &lt;block:data:2&gt;</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateData</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> Utils.<span class="hljs-title function_ invoke__">numbers</span>({
    <span class="hljs-attr">count</span>: DATA_COUNT,
    <span class="hljs-attr">min</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">max</span>: <span class="hljs-number">100</span>
  });
}

<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">data</span> = {
  labels: Utils.<span class="hljs-title function_ invoke__">months</span>({<span class="hljs-attr">count</span>: DATA_COUNT}),
  datasets: [{
    data: <span class="hljs-title function_ invoke__">generateData</span>()
  }]
};
<span class="hljs-comment">// &lt;/block:data&gt;</span>

<span class="hljs-comment">// &lt;block:config:1&gt;</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">config</span> = {
  type: <span class="hljs-string">&#x27;polarArea&#x27;</span>,
  data: data,
  options: {
    plugins: {
      legend: <span class="hljs-literal">false</span>,
      tooltip: <span class="hljs-literal">false</span>,
    },
    elements: {
      arc: {
        backgroundColor: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">context</span>) </span>{
          let c = colors[context.dataIndex];
          <span class="hljs-keyword">if</span> (!c) {
            <span class="hljs-keyword">return</span>;
          }
          <span class="hljs-keyword">if</span> (context.active) {
            c = helpers.<span class="hljs-title function_ invoke__">getHoverColor</span>(c);
          }
          <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">mid</span> = helpers.<span class="hljs-title function_ invoke__">color</span>(c).<span class="hljs-title function_ invoke__">desaturate</span>(<span class="hljs-number">0.2</span>).<span class="hljs-title function_ invoke__">darken</span>(<span class="hljs-number">0.2</span>).<span class="hljs-title function_ invoke__">rgbString</span>();
          <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">start</span> = helpers.<span class="hljs-title function_ invoke__">color</span>(c).<span class="hljs-title function_ invoke__">lighten</span>(<span class="hljs-number">0.2</span>).<span class="hljs-title function_ invoke__">rotate</span>(<span class="hljs-number">270</span>).<span class="hljs-title function_ invoke__">rgbString</span>();
          <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">end</span> = helpers.<span class="hljs-title function_ invoke__">color</span>(c).<span class="hljs-title function_ invoke__">lighten</span>(<span class="hljs-number">0.1</span>).<span class="hljs-title function_ invoke__">rgbString</span>();
          <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">createRadialGradient3</span>(context, start, mid, end);
        },
      }
    }
  }
};
<span class="hljs-comment">// &lt;/block:config&gt;</span>

module.exports = {
  actions,
  config,
};</code></pre><h2>Docs</h2>
<ul>
<li><a href="../../charts/polar.md">Polar Area Chart</a><ul>
<li><a href="../../charts/polar.md#styling">Styling</a></li>
</ul>
</li>
<li><a href="../../general/options.md">Options</a><ul>
<li><a href="../../general/options.md#scriptable-options">Scriptable Options</a></li>
</ul>
</li>
</ul>
</div>
    </div>
  </main>
  <footer class="docs-footer"><p>&copy; 2024 Reynard Documentation Test. Built with ❤️ using SolidJS.</p></footer>
</body>
</html>