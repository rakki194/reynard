<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>reynard-file-processing - Reynard Documentation Test</title>
  <link rel="stylesheet" href="../styles.css">
  <link rel="stylesheet" href="../highlight.css">
  <link rel="icon" href="/favicon.ico">
</head>
<body>
  <nav class="docs-nav">
    <div class="nav-brand"><a href="../index.html">Reynard Documentation Test</a></div>
    <div class="nav-links"><a href="../index.html">Home</a><a href="../api.html">API Reference</a></div>
  </nav>
  <main class="docs-main">
    <div class="docs-content">
      <h1>reynard-file-processing</h1>
      <div class="markdown-content"><h1>reynard-file-processing</h1>
<p>Advanced file processing, thumbnail generation, and media analysis for SolidJS applications.</p>
<h2>Features</h2>
<ul>
<li><strong>Multi-format Support</strong>: Images, videos, audio, text, code, documents, and LoRA models</li>
<li><strong>Thumbnail Generation</strong>: Automatic thumbnail creation for all supported file types</li>
<li><strong>Metadata Extraction</strong>: Comprehensive metadata extraction and analysis</li>
<li><strong>Content Analysis</strong>: Text analysis, language detection, and content processing</li>
<li><strong>Progress Tracking</strong>: Real-time progress updates and callbacks</li>
<li><strong>Configurable Processing</strong>: Flexible options for different use cases</li>
<li><strong>Web Worker Support</strong>: Background processing for better performance</li>
<li><strong>Modern Web APIs</strong>: Built with Canvas API, Web Audio API, and other modern standards</li>
</ul>
<h2>Installation</h2>
<pre><code class="hljs language-bash">npm install reynard-file-processing</code></pre><h2>Quick Start</h2>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">import</span> {
  <span class="hljs-title class_">FileProcessingPipeline</span>,
  <span class="hljs-title class_">ThumbnailGenerator</span>,
} <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;reynard-file-processing&quot;</span>;

<span class="hljs-comment">// Create a processing pipeline</span>
<span class="hljs-keyword">const</span> pipeline = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileProcessingPipeline</span>({
  <span class="hljs-attr">defaultThumbnailSize</span>: [<span class="hljs-number">300</span>, <span class="hljs-number">300</span>],
  <span class="hljs-attr">maxFileSize</span>: <span class="hljs-number">50</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>, <span class="hljs-comment">// 50MB</span>
});

<span class="hljs-comment">// Process a single file</span>
<span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> pipeline.<span class="hljs-title function_">processFile</span>(file, {
  <span class="hljs-attr">generateThumbnails</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">extractMetadata</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">analyzeContent</span>: <span class="hljs-literal">true</span>,
});

<span class="hljs-comment">// Generate a thumbnail</span>
<span class="hljs-keyword">const</span> thumbnailGenerator = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThumbnailGenerator</span>({
  <span class="hljs-attr">size</span>: [<span class="hljs-number">200</span>, <span class="hljs-number">200</span>],
  <span class="hljs-attr">format</span>: <span class="hljs-string">&quot;webp&quot;</span>,
  <span class="hljs-attr">quality</span>: <span class="hljs-number">85</span>,
});

<span class="hljs-keyword">const</span> thumbnail = <span class="hljs-keyword">await</span> thumbnailGenerator.<span class="hljs-title function_">generateThumbnail</span>(file);</code></pre><h2>Supported File Types</h2>
<h3>Images</h3>
<ul>
<li><strong>Raster</strong>: JPG, PNG, GIF, WebP, BMP, TIFF</li>
<li><strong>Modern</strong>: JXL, AVIF, HEIC, HEIF, JP2</li>
<li><strong>Vector</strong>: SVG, EPS, AI, CDR</li>
<li><strong>Raw</strong>: RAW, CR2, NEF, ARW, DNG</li>
</ul>
<h3>Videos</h3>
<ul>
<li><strong>Common</strong>: MP4, AVI, MOV, MKV, WebM, FLV, WMV</li>
<li><strong>High Quality</strong>: MPG, MPEG, TS, MTS, M2TS</li>
<li><strong>Professional</strong>: ProRes, DNxHD, Cine, R3D, BRAW</li>
</ul>
<h3>Audio</h3>
<ul>
<li><strong>Lossy</strong>: MP3, AAC, OGG, WMA, Opus</li>
<li><strong>Lossless</strong>: WAV, FLAC, ALAC, APE, WV</li>
<li><strong>High Resolution</strong>: DSD, DFF, DSF</li>
</ul>
<h3>Text &amp; Code</h3>
<ul>
<li><strong>Plain Text</strong>: TXT, MD, RST, TEX, LOG</li>
<li><strong>Data</strong>: JSON, XML, YAML, TOML, CSV, TSV</li>
<li><strong>Scientific</strong>: Parquet, Arrow, Feather, HDF5, NumPy</li>
<li><strong>Programming</strong>: Python, JavaScript, TypeScript, Java, C++, Rust, Go, and many more</li>
</ul>
<h3>Documents</h3>
<ul>
<li><strong>Office</strong>: PDF, DOCX, PPTX, XLSX, ODT, ODP, ODS</li>
<li><strong>E-books</strong>: EPUB, MOBI, AZW3, KFX</li>
<li><strong>Rich Text</strong>: RTF, Pages, Key, Numbers</li>
</ul>
<h3>LoRA Models</h3>
<ul>
<li><strong>Formats</strong>: SafeTensors, Checkpoint, PyTorch, ONNX, Bin</li>
</ul>
<h2>API Reference</h2>
<h3>FileProcessingPipeline</h3>
<p>The main class that orchestrates all file processing operations.</p>
<h4>FileProcessingPipeline Constructor</h4>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">new</span> <span class="hljs-title class_">FileProcessingPipeline</span>(<span class="hljs-attr">config</span>?: <span class="hljs-title class_">Partial</span>&lt;<span class="hljs-title class_">ProcessingConfig</span>&gt;)</code></pre><h4>FileProcessingPipeline Methods</h4>
<ul>
<li><code>processFile(file, options?)</code>: Process a single file</li>
<li><code>processFiles(files, options?)</code>: Process multiple files</li>
<li><code>generateThumbnail(file, options)</code>: Generate a thumbnail</li>
<li><code>extractMetadata(file)</code>: Extract metadata</li>
<li><code>scanDirectory(path, options?)</code>: Scan directory contents</li>
<li><code>getSupportedTypes()</code>: Get list of supported file types</li>
<li><code>isSupported(file)</code>: Check if file type is supported</li>
</ul>
<h4>Configuration</h4>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">ProcessingConfig</span> {
  <span class="hljs-attr">defaultThumbnailSize</span>: [<span class="hljs-built_in">number</span>, <span class="hljs-built_in">number</span>];
  <span class="hljs-attr">defaultPreviewSize</span>: [<span class="hljs-built_in">number</span>, <span class="hljs-built_in">number</span>];
  <span class="hljs-attr">supportedExtensions</span>: <span class="hljs-built_in">string</span>[];
  <span class="hljs-attr">maxFileSize</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">timeout</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">cache</span>: {
    <span class="hljs-attr">enabled</span>: <span class="hljs-built_in">boolean</span>;
    <span class="hljs-attr">maxSize</span>: <span class="hljs-built_in">number</span>;
    <span class="hljs-attr">ttl</span>: <span class="hljs-built_in">number</span>;
  };
  <span class="hljs-attr">threading</span>: {
    <span class="hljs-attr">maxWorkers</span>: <span class="hljs-built_in">number</span>;
    <span class="hljs-attr">thumbnailWorkers</span>: <span class="hljs-built_in">number</span>;
    <span class="hljs-attr">metadataWorkers</span>: <span class="hljs-built_in">number</span>;
  };
}</code></pre><h3>ThumbnailGenerator</h3>
<p>Specialized class for generating thumbnails from various file types.</p>
<h4>ThumbnailGenerator Constructor</h4>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">new</span> <span class="hljs-title class_">ThumbnailGenerator</span>(<span class="hljs-attr">options</span>?: <span class="hljs-title class_">ThumbnailGeneratorOptions</span>)</code></pre><h4>ThumbnailGenerator Methods</h4>
<ul>
<li><code>generateThumbnail(file, options?)</code>: Generate a thumbnail</li>
<li><code>destroy()</code>: Clean up resources</li>
</ul>
<h4>Options</h4>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">ThumbnailGeneratorOptions</span> {
  <span class="hljs-attr">size</span>: [<span class="hljs-built_in">number</span>, <span class="hljs-built_in">number</span>];
  <span class="hljs-attr">format</span>?: <span class="hljs-string">&quot;webp&quot;</span> | <span class="hljs-string">&quot;png&quot;</span> | <span class="hljs-string">&quot;jpeg&quot;</span>;
  <span class="hljs-attr">quality</span>?: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">maintainAspectRatio</span>?: <span class="hljs-built_in">boolean</span>;
  <span class="hljs-attr">backgroundColor</span>?: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">enableAnimation</span>?: <span class="hljs-built_in">boolean</span>;
  <span class="hljs-attr">animationSlowdown</span>?: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">useWebWorkers</span>?: <span class="hljs-built_in">boolean</span>;
  <span class="hljs-attr">maxThumbnailSize</span>?: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">progressive</span>?: <span class="hljs-built_in">boolean</span>;
}</code></pre><h2>Usage Examples</h2>
<h3>Basic File Processing</h3>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FileProcessingPipeline</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;reynard-file-processing&quot;</span>;

<span class="hljs-keyword">const</span> pipeline = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileProcessingPipeline</span>();

<span class="hljs-comment">// Process a file with default options</span>
<span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> pipeline.<span class="hljs-title function_">processFile</span>(file);

<span class="hljs-keyword">if</span> (result.<span class="hljs-property">success</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Processing completed:&quot;</span>, result.<span class="hljs-property">data</span>);
} <span class="hljs-keyword">else</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&quot;Processing failed:&quot;</span>, result.<span class="hljs-property">error</span>);
}</code></pre><h3>Custom Thumbnail Generation</h3>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ThumbnailGenerator</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;reynard-file-processing&quot;</span>;

<span class="hljs-keyword">const</span> generator = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThumbnailGenerator</span>({
  <span class="hljs-attr">size</span>: [<span class="hljs-number">400</span>, <span class="hljs-number">400</span>],
  <span class="hljs-attr">format</span>: <span class="hljs-string">&quot;webp&quot;</span>,
  <span class="hljs-attr">quality</span>: <span class="hljs-number">90</span>,
  <span class="hljs-attr">maintainAspectRatio</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">&quot;#f0f0f0&quot;</span>,
});

<span class="hljs-keyword">const</span> thumbnail = <span class="hljs-keyword">await</span> generator.<span class="hljs-title function_">generateThumbnail</span>(file, {
  <span class="hljs-attr">size</span>: [<span class="hljs-number">200</span>, <span class="hljs-number">200</span>],
  <span class="hljs-attr">format</span>: <span class="hljs-string">&quot;png&quot;</span>,
});</code></pre><h3>Batch Processing with Progress</h3>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FileProcessingPipeline</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;reynard-file-processing&quot;</span>;

<span class="hljs-keyword">const</span> pipeline = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileProcessingPipeline</span>();

<span class="hljs-comment">// Track progress</span>
pipeline.<span class="hljs-title function_">onProgress</span>(<span class="hljs-function">(<span class="hljs-params">progress</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${progress.operation}</span>: <span class="hljs-subst">${progress.progress.toFixed(<span class="hljs-number">1</span>)}</span>%`</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Processing: <span class="hljs-subst">${progress.currentFile}</span>`</span>);
});

<span class="hljs-comment">// Process multiple files</span>
<span class="hljs-keyword">const</span> results = <span class="hljs-keyword">await</span> pipeline.<span class="hljs-title function_">processFiles</span>(files, {
  <span class="hljs-attr">generateThumbnails</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">extractMetadata</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">maxFileSize</span>: <span class="hljs-number">10</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>, <span class="hljs-comment">// 10MB</span>
});

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Processed <span class="hljs-subst">${results.length}</span> files`</span>);</code></pre><h3>File Type Detection</h3>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">import</span> { getFileTypeInfo, isSupportedExtension } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;reynard-file-processing&quot;</span>;

<span class="hljs-keyword">const</span> fileInfo = <span class="hljs-title function_">getFileTypeInfo</span>(<span class="hljs-string">&quot;.jpg&quot;</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(fileInfo);
<span class="hljs-comment">// {</span>
<span class="hljs-comment">//   extension: &#x27;.jpg&#x27;,</span>
<span class="hljs-comment">//   mimeType: &#x27;image/jpeg&#x27;,</span>
<span class="hljs-comment">//   category: &#x27;image&#x27;,</span>
<span class="hljs-comment">//   isSupported: true,</span>
<span class="hljs-comment">//   capabilities: { thumbnail: true, metadata: true, content: true, ocr: true }</span>
<span class="hljs-comment">// }</span>

<span class="hljs-keyword">const</span> isSupported = <span class="hljs-title function_">isSupportedExtension</span>(<span class="hljs-string">&quot;.xyz&quot;</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(isSupported); <span class="hljs-comment">// false</span></code></pre><h3>Directory Scanning</h3>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">FileProcessingPipeline</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;reynard-file-processing&quot;</span>;

<span class="hljs-keyword">const</span> pipeline = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileProcessingPipeline</span>();

<span class="hljs-keyword">const</span> listing = <span class="hljs-keyword">await</span> pipeline.<span class="hljs-title function_">scanDirectory</span>(<span class="hljs-string">&quot;/path/to/directory&quot;</span>, {
  <span class="hljs-attr">generateThumbnails</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">extractMetadata</span>: <span class="hljs-literal">true</span>,
});

<span class="hljs-keyword">if</span> (listing.<span class="hljs-property">success</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Directory: <span class="hljs-subst">${listing.data.path}</span>`</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Files: <span class="hljs-subst">${listing.data.files.length}</span>`</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Directories: <span class="hljs-subst">${listing.data.directories.length}</span>`</span>);
}</code></pre><h2>Advanced Features</h2>
<h3>Web Worker Support</h3>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">const</span> generator = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThumbnailGenerator</span>({
  <span class="hljs-attr">useWebWorkers</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">maxThumbnailSize</span>: <span class="hljs-number">2</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>, <span class="hljs-comment">// 2MB</span>
});</code></pre><h3>Custom Processing Options</h3>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> pipeline.<span class="hljs-title function_">processFile</span>(file, {
  <span class="hljs-attr">generateThumbnails</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">extractMetadata</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">performOCR</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">analyzeContent</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">maxFileSize</span>: <span class="hljs-number">5</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>, <span class="hljs-comment">// 5MB</span>
  <span class="hljs-attr">timeout</span>: <span class="hljs-number">60000</span>, <span class="hljs-comment">// 60 seconds</span>
});</code></pre><h3>Error Handling</h3>
<pre><code class="hljs language-typescript"><span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> pipeline.<span class="hljs-title function_">processFile</span>(file);

  <span class="hljs-keyword">if</span> (!result.<span class="hljs-property">success</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&quot;Processing failed:&quot;</span>, result.<span class="hljs-property">error</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&quot;Duration:&quot;</span>, result.<span class="hljs-property">duration</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&quot;Timestamp:&quot;</span>, result.<span class="hljs-property">timestamp</span>);
    <span class="hljs-keyword">return</span>;
  }

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Processing successful:&quot;</span>, result.<span class="hljs-property">data</span>);
} <span class="hljs-keyword">catch</span> (error) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&quot;Unexpected error:&quot;</span>, error);
}</code></pre><h2>Performance Considerations</h2>
<ul>
<li><strong>Thumbnail Caching</strong>: Enable caching for better performance</li>
<li><strong>Web Workers</strong>: Use background processing for large files</li>
<li><strong>Batch Processing</strong>: Process multiple files together</li>
<li><strong>Progress Tracking</strong>: Monitor processing to optimize workflows</li>
<li><strong>Resource Cleanup</strong>: Call <code>destroy()</code> when done</li>
</ul>
<h2>Browser Support</h2>
<ul>
<li><strong>Modern Browsers</strong>: Chrome 60+, Firefox 55+, Safari 11+, Edge 79+</li>
<li><strong>Required APIs</strong>: Canvas API, Web Audio API, File API, Fetch API</li>
<li><strong>Optional APIs</strong>: OffscreenCanvas, Web Workers, WebAssembly</li>
</ul>
<h2>Contributing</h2>
<p>Contributions are welcome! Please see our contributing guidelines for details.</p>
<h2>License</h2>
<p>MIT License - see LICENSE file for details.</p>
<h2>Related Packages</h2>
<ul>
<li><code>reynard-core</code> - Core framework utilities</li>
<li><code>reynard-gallery</code> - File gallery components</li>
<li><code>reynard-ui</code> - UI components and themes</li>
</ul>
</div>
    </div>
  </main>
  <footer class="docs-footer"><p>&copy; 2024 Reynard Documentation Test. Built with ❤️ using SolidJS.</p></footer>
</body>
</html>