<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Misaki English Phonemes - Reynard Documentation Test</title>
  <link rel="stylesheet" href="../styles.css">
  <link rel="stylesheet" href="../highlight.css">
  <link rel="icon" href="/favicon.ico">
</head>
<body>
  <nav class="docs-nav">
    <div class="nav-brand"><a href="../index.html">Reynard Documentation Test</a></div>
    <div class="nav-links"><a href="../index.html">Home</a><a href="../api.html">API Reference</a></div>
  </nav>
  <main class="docs-main">
    <div class="docs-content">
      <h1>Misaki English Phonemes</h1>
      <div class="markdown-content"><h1>Misaki English Phonemes</h1>
<p>For English, Misaki currently uses 49 total phonemes. Of these, 41 are shared by both Americans and Brits, 4 are American-only, and 4 are British-only.</p>
<p>Disclaimer: Author is an ML researcher, not a linguist, and may have butchered or reappropriated the traditional meaning of some symbols. These symbols are intended as input tokens for neural networks to yield optimal performance.</p>
<h3>ğŸ¤ Shared (41)</h3>
<p><strong>Stress Marks (2)</strong></p>
<ul>
<li><code>Ëˆ</code>: Primary stress, visually looks similar to an apostrophe.</li>
<li><code>ËŒ</code>: Secondary stress.</li>
</ul>
<p><strong>IPA Consonants (22)</strong></p>
<ul>
<li><code>bdfhjklmnpstvwz</code>: 15 alpha consonants taken from IPA. They mostly sound as you&#39;d expect, but <code>j</code> actually represents the &quot;y&quot; sound, like <code>yes =&gt; jËˆÉ›s</code>.</li>
<li><code>É¡</code>: Hard &quot;g&quot; sound, like <code>get =&gt; É¡É›t</code>. Visually looks like the lowercase letter g, but its actually <code>U+0261</code>.</li>
<li><code>Å‹</code>: The &quot;ng&quot; sound, like <code>sung =&gt; sËˆÊŒÅ‹</code>.</li>
<li><code>É¹</code>: Upside-down r is just an &quot;r&quot; sound, like <code>red =&gt; É¹ËˆÉ›d</code>.</li>
<li><code>Êƒ</code>: The &quot;sh&quot; sound, like <code>shin =&gt; ÊƒËˆÉªn</code>.</li>
<li><code>Ê’</code>: The &quot;zh&quot; sound, like <code>Asia =&gt; ËˆAÊ’É™</code>.</li>
<li><code>Ã°</code>: Soft &quot;th&quot; sound, like <code>than =&gt; Ã°É™n</code>.</li>
<li><code>Î¸</code>: Hard &quot;th&quot; sound, like <code>thin =&gt; Î¸ËˆÉªn</code>.</li>
</ul>
<p><strong>Consonant Clusters (2)</strong></p>
<ul>
<li><code>Ê¤</code>: A &quot;j&quot; or &quot;dg&quot; sound, merges <code>dÊ’</code>, like <code>jump =&gt; Ê¤ËˆÊŒmp</code> or <code>lunge =&gt; lËˆÊŒnÊ¤</code>.</li>
<li><code>Ê§</code>: The &quot;ch&quot; sound, merges <code>tÊƒ</code>, like <code>chump =&gt; Ê§ËˆÊŒmp</code> or <code>lunch =&gt; lËˆÊŒnÊ§</code>.</li>
</ul>
<p><strong>IPA Vowels (10)</strong></p>
<ul>
<li><code>É™</code>: The schwa is a common, unstressed vowel sound, like <code>a ğŸŒ =&gt; É™ ğŸŒ</code>.</li>
<li><code>i</code>: As in <code>easy =&gt; Ëˆizi</code>.</li>
<li><code>u</code>: As in <code>flu =&gt; flËˆu</code>.</li>
<li><code>É‘</code>: As in <code>spa =&gt; spËˆÉ‘</code>.</li>
<li><code>É”</code>: As in <code>all =&gt; ËˆÉ”l</code>.</li>
<li><code>É›</code>: As in <code>hair =&gt; hËˆÉ›É¹</code> or <code>bed =&gt; bËˆÉ›d</code>. Possibly dubious, because those vowel sounds do not sound similar to my ear.</li>
<li><code>Éœ</code>: As in <code>her =&gt; hÉœÉ¹</code>. Easy to confuse with <code>É›</code> above.</li>
<li><code>Éª</code>: As in <code>brick =&gt; bÉ¹ËˆÉªk</code>.</li>
<li><code>ÊŠ</code>: As in <code>wood =&gt; wËˆÊŠd</code>.</li>
<li><code>ÊŒ</code>: As in <code>sun =&gt; sËˆÊŒn</code>.</li>
</ul>
<p><strong>Dipthong Vowels (4)</strong></p>
<ul>
<li><code>A</code>: The &quot;eh&quot; vowel sound, like <code>hey =&gt; hËˆA</code>. Expands to <code>eÉª</code> in IPA.</li>
<li><code>I</code>: The &quot;eye&quot; vowel sound, like <code>high =&gt; hËˆI</code>. Expands to <code>aÉª</code> in IPA.</li>
<li><code>W</code>: The &quot;ow&quot; vowel sound, like <code>how =&gt; hËŒW</code>. Expands to <code>aÊŠ</code> in IPA.</li>
<li><code>Y</code>: The &quot;oy&quot; vowel sound, like <code>soy =&gt; sËˆY</code>. Expands to <code>É”Éª</code> in IPA.</li>
</ul>
<p><strong>Custom Vowel (1)</strong></p>
<ul>
<li><code>áµŠ</code>: Small schwa, muted version of <code>É™</code>, like <code>pixel =&gt; pËˆÉªksáµŠl</code>. I made this one up, so I&#39;m not entirely sure if it&#39;s correct.</li>
</ul>
<h3>ğŸ‡ºğŸ‡¸ American-only (4)</h3>
<p><strong>Vowels (3)</strong></p>
<ul>
<li><code>Ã¦</code>: The vowel sound at the start of <code>ash =&gt; ËˆÃ¦Êƒ</code>.</li>
<li><code>O</code>: Capital letter representing the American &quot;oh&quot; vowel sound. Expands to <code>oÊŠ</code> in IPA.</li>
<li><code>áµ»</code>: A sound somewhere in between <code>É™</code> and <code>Éª</code>, often used in certain -s suffixes like <code>boxes =&gt; bËˆÉ‘ksáµ»z</code>.</li>
</ul>
<p><strong>Consonant (1)</strong></p>
<ul>
<li><code>É¾</code>: A sound somewhere in between <code>t</code> and <code>d</code>, like <code>butter =&gt; bËˆÊŒÉ¾É™É¹</code>.</li>
</ul>
<h3>ğŸ‡¬ğŸ‡§ British-only (4)</h3>
<p><strong>Vowels (3)</strong></p>
<ul>
<li><code>a</code>: The vowel sound at the start of <code>ash =&gt; ËˆaÊƒ</code>.</li>
<li><code>Q</code>: Capital letter representing the British &quot;oh&quot; vowel sound. Expands to <code>É™ÊŠ</code> in IPA.</li>
<li><code>É’</code>: The sound at the start of <code>on =&gt; ËŒÉ’n</code>. Easy to confuse with <code>É‘</code>, which is a shared phoneme.</li>
</ul>
<p><strong>Other (1)</strong></p>
<ul>
<li><code>Ë</code>: Vowel extender, visually looks similar to a colon. Possibly dubious, because Americans extend vowels too, but the gold US dictionary somehow lacks these. Often used by the Brits instead of <code>É¹</code>: Americans say <code>or =&gt; É”É¹</code>, but Brits say <code>or =&gt; É”Ë</code>.</li>
</ul>
<h3>â™»ï¸ From espeak to Misaki</h3>
<pre><code class="hljs language-py"><span class="hljs-keyword">import</span> re
FROM_ESPEAKS = <span class="hljs-built_in">sorted</span>({<span class="hljs-string">&#x27;\u0303&#x27;</span>:<span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-string">&#x27;a^Éª&#x27;</span>:<span class="hljs-string">&#x27;I&#x27;</span>,<span class="hljs-string">&#x27;a^ÊŠ&#x27;</span>:<span class="hljs-string">&#x27;W&#x27;</span>,<span class="hljs-string">&#x27;d^Ê’&#x27;</span>:<span class="hljs-string">&#x27;Ê¤&#x27;</span>,<span class="hljs-string">&#x27;e&#x27;</span>:<span class="hljs-string">&#x27;A&#x27;</span>,<span class="hljs-string">&#x27;e^Éª&#x27;</span>:<span class="hljs-string">&#x27;A&#x27;</span>,<span class="hljs-string">&#x27;r&#x27;</span>:<span class="hljs-string">&#x27;É¹&#x27;</span>,<span class="hljs-string">&#x27;t^Êƒ&#x27;</span>:<span class="hljs-string">&#x27;Ê§&#x27;</span>,<span class="hljs-string">&#x27;x&#x27;</span>:<span class="hljs-string">&#x27;k&#x27;</span>,<span class="hljs-string">&#x27;Ã§&#x27;</span>:<span class="hljs-string">&#x27;k&#x27;</span>,<span class="hljs-string">&#x27;É&#x27;</span>:<span class="hljs-string">&#x27;É™&#x27;</span>,<span class="hljs-string">&#x27;É”^Éª&#x27;</span>:<span class="hljs-string">&#x27;Y&#x27;</span>,<span class="hljs-string">&#x27;É™^l&#x27;</span>:<span class="hljs-string">&#x27;áµŠl&#x27;</span>,<span class="hljs-string">&#x27;Éš&#x27;</span>:<span class="hljs-string">&#x27;É™É¹&#x27;</span>,<span class="hljs-string">&#x27;É¬&#x27;</span>:<span class="hljs-string">&#x27;l&#x27;</span>,<span class="hljs-string">&#x27;Ê”&#x27;</span>:<span class="hljs-string">&#x27;t&#x27;</span>,<span class="hljs-string">&#x27;Ê”n&#x27;</span>:<span class="hljs-string">&#x27;táµŠn&#x27;</span>,<span class="hljs-string">&#x27;Ê”ËŒn\u0329&#x27;</span>:<span class="hljs-string">&#x27;táµŠn&#x27;</span>,<span class="hljs-string">&#x27;Ê²&#x27;</span>:<span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-string">&#x27;Ê²O&#x27;</span>:<span class="hljs-string">&#x27;jO&#x27;</span>,<span class="hljs-string">&#x27;Ê²Q&#x27;</span>:<span class="hljs-string">&#x27;jQ&#x27;</span>}.items(), key=<span class="hljs-keyword">lambda</span> kv: -<span class="hljs-built_in">len</span>(kv[<span class="hljs-number">0</span>]))
<span class="hljs-keyword">def</span> <span class="hljs-title function_">from_espeak</span>(<span class="hljs-params">ps, british</span>):
    <span class="hljs-keyword">for</span> old, new <span class="hljs-keyword">in</span> FROM_ESPEAKS:
        ps = ps.replace(old, new)
    ps = re.sub(<span class="hljs-string">r&#x27;(\S)\u0329&#x27;</span>, <span class="hljs-string">r&#x27;áµŠ\1&#x27;</span>, ps).replace(<span class="hljs-built_in">chr</span>(<span class="hljs-number">809</span>), <span class="hljs-string">&#x27;&#x27;</span>)
    <span class="hljs-keyword">if</span> british:
        ps = ps.replace(<span class="hljs-string">&#x27;e^É™&#x27;</span>, <span class="hljs-string">&#x27;É›Ë&#x27;</span>)
        ps = ps.replace(<span class="hljs-string">&#x27;iÉ™&#x27;</span>, <span class="hljs-string">&#x27;ÉªÉ™&#x27;</span>)
        ps = ps.replace(<span class="hljs-string">&#x27;É™^ÊŠ&#x27;</span>, <span class="hljs-string">&#x27;Q&#x27;</span>)
    <span class="hljs-keyword">else</span>:
        ps = ps.replace(<span class="hljs-string">&#x27;o^ÊŠ&#x27;</span>, <span class="hljs-string">&#x27;O&#x27;</span>)
        ps = ps.replace(<span class="hljs-string">&#x27;ÉœËÉ¹&#x27;</span>, <span class="hljs-string">&#x27;ÉœÉ¹&#x27;</span>)
        ps = ps.replace(<span class="hljs-string">&#x27;ÉœË&#x27;</span>, <span class="hljs-string">&#x27;ÉœÉ¹&#x27;</span>)
        ps = ps.replace(<span class="hljs-string">&#x27;ÉªÉ™&#x27;</span>, <span class="hljs-string">&#x27;iÉ™&#x27;</span>)
        ps = ps.replace(<span class="hljs-string">&#x27;Ë&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>)
    <span class="hljs-keyword">return</span> ps.replace(<span class="hljs-string">&#x27;^&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>)

<span class="hljs-keyword">import</span> phonemizer
british = <span class="hljs-literal">False</span>
espeak = phonemizer.backend.EspeakBackend(
    language=<span class="hljs-string">f&quot;en-<span class="hljs-subst">{<span class="hljs-string">&#x27;gb&#x27;</span> <span class="hljs-keyword">if</span> british <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;us&#x27;</span>}</span>&quot;</span>,
    preserve_punctuation=<span class="hljs-literal">True</span>, with_stress=<span class="hljs-literal">True</span>, tie=<span class="hljs-string">&#x27;^&#x27;</span>
)
text = <span class="hljs-string">&#x27;merchantship&#x27;</span>
espeak_ps = espeak.phonemize([text])
espeak_ps = espeak_ps[<span class="hljs-number">0</span>].strip() <span class="hljs-keyword">if</span> espeak_ps <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;&#x27;</span>
<span class="hljs-keyword">assert</span> espeak_ps == <span class="hljs-string">&#x27;mËˆÉœËt^ÊƒÉ™ntÊƒËŒÉªp&#x27;</span>, espeak_ps
ps = from_espeak(espeak_ps, british)
<span class="hljs-keyword">assert</span> ps == (<span class="hljs-string">&#x27;mËˆÉœËÊ§É™ntÊƒËŒÉªp&#x27;</span> <span class="hljs-keyword">if</span> british <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;mËˆÉœÉ¹Ê§É™ntÊƒËŒÉªp&#x27;</span>), ps
VOCAB = <span class="hljs-built_in">frozenset</span>(<span class="hljs-string">&#x27;AIWYbdfhijklmnpstuvwzÃ°Å‹É‘É”É™É›ÉœÉ¡ÉªÉ¹ÊƒÊŠÊŒÊ’Ê¤Ê§ËˆËŒÎ¸áµŠ&#x27;</span> + (<span class="hljs-string">&#x27;QaÉ’Ë&#x27;</span> <span class="hljs-keyword">if</span> british <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;OÃ¦É¾áµ»&#x27;</span>))
<span class="hljs-keyword">assert</span> <span class="hljs-built_in">len</span>(VOCAB) == <span class="hljs-number">45</span>, <span class="hljs-built_in">len</span>(VOCAB)
<span class="hljs-keyword">assert</span> <span class="hljs-built_in">all</span>(p <span class="hljs-keyword">in</span> VOCAB <span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> ps), ps</code></pre><h3>â™»ï¸ Misaki to espeak</h3>
<pre><code class="hljs language-py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">to_espeak</span>(<span class="hljs-params">ps</span>):
    <span class="hljs-comment"># Optionally, you can add a tie character in between the 2 replacement characters.</span>
    ps = ps.replace(<span class="hljs-string">&#x27;Ê¤&#x27;</span>, <span class="hljs-string">&#x27;dÊ’&#x27;</span>).replace(<span class="hljs-string">&#x27;Ê§&#x27;</span>, <span class="hljs-string">&#x27;tÊƒ&#x27;</span>)
    ps = ps.replace(<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;eÉª&#x27;</span>).replace(<span class="hljs-string">&#x27;I&#x27;</span>, <span class="hljs-string">&#x27;aÉª&#x27;</span>).replace(<span class="hljs-string">&#x27;Y&#x27;</span>, <span class="hljs-string">&#x27;É”Éª&#x27;</span>)
    ps = ps.replace(<span class="hljs-string">&#x27;O&#x27;</span>, <span class="hljs-string">&#x27;oÊŠ&#x27;</span>).replace(<span class="hljs-string">&#x27;Q&#x27;</span>, <span class="hljs-string">&#x27;É™ÊŠ&#x27;</span>).replace(<span class="hljs-string">&#x27;W&#x27;</span>, <span class="hljs-string">&#x27;aÊŠ&#x27;</span>)
    <span class="hljs-keyword">return</span> ps.replace(<span class="hljs-string">&#x27;áµŠ&#x27;</span>, <span class="hljs-string">&#x27;É™&#x27;</span>)</code></pre></div>
    </div>
  </main>
  <footer class="docs-footer"><p>&copy; 2024 Reynard Documentation Test. Built with â¤ï¸ using SolidJS.</p></footer>
</body>
</html>