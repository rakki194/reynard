<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Legend - Reynard Documentation Test</title>
  <link rel="stylesheet" href="../styles.css">
  <link rel="stylesheet" href="../highlight.css">
  <link rel="icon" href="/favicon.ico">
</head>
<body>
  <nav class="docs-nav">
    <div class="nav-brand"><a href="../index.html">Reynard Documentation Test</a></div>
    <div class="nav-links"><a href="../index.html">Home</a><a href="../api.html">API Reference</a></div>
  </nav>
  <main class="docs-main">
    <div class="docs-content">
      <h1>Legend</h1>
      <div class="markdown-content"><h1>Legend</h1>
<p>The chart legend displays data about the datasets that are appearing on the chart.</p>
<h2>Configuration options</h2>
<p>Namespace: <code>options.plugins.legend</code>, the global options for the chart legend is defined in <code>Chart.defaults.plugins.legend</code>.</p>
<p>:::warning<br>The doughnut, pie, and polar area charts override the legend defaults. To change the overrides for those chart types, the options are defined in <code>Chart.overrides[type].plugins.legend</code>.<br>:::</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>display</code></td>
<td><code>boolean</code></td>
<td><code>true</code></td>
<td>Is the legend shown?</td>
</tr>
<tr>
<td><code>position</code></td>
<td><code>string</code></td>
<td><code>&#39;top&#39;</code></td>
<td>Position of the legend. <a href="#position">more...</a></td>
</tr>
<tr>
<td><code>align</code></td>
<td><code>string</code></td>
<td><code>&#39;center&#39;</code></td>
<td>Alignment of the legend. <a href="#align">more...</a></td>
</tr>
<tr>
<td><code>maxHeight</code></td>
<td><code>number</code></td>
<td></td>
<td>Maximum height of the legend, in pixels</td>
</tr>
<tr>
<td><code>maxWidth</code></td>
<td><code>number</code></td>
<td></td>
<td>Maximum width of the legend, in pixels</td>
</tr>
<tr>
<td><code>fullSize</code></td>
<td><code>boolean</code></td>
<td><code>true</code></td>
<td>Marks that this box should take the full width/height of the canvas (moving other boxes). This is unlikely to need to be changed in day-to-day use.</td>
</tr>
<tr>
<td><code>onClick</code></td>
<td><code>function</code></td>
<td></td>
<td>A callback that is called when a click event is registered on a label item. Arguments: <code>[event, legendItem, legend]</code>.</td>
</tr>
<tr>
<td><code>onHover</code></td>
<td><code>function</code></td>
<td></td>
<td>A callback that is called when a &#39;mousemove&#39; event is registered on top of a label item. Arguments: <code>[event, legendItem, legend]</code>.</td>
</tr>
<tr>
<td><code>onLeave</code></td>
<td><code>function</code></td>
<td></td>
<td>A callback that is called when a &#39;mousemove&#39; event is registered outside of a previously hovered label item. Arguments: <code>[event, legendItem, legend]</code>.</td>
</tr>
<tr>
<td><code>reverse</code></td>
<td><code>boolean</code></td>
<td><code>false</code></td>
<td>Legend will show datasets in reverse order.</td>
</tr>
<tr>
<td><code>labels</code></td>
<td><code>object</code></td>
<td></td>
<td>See the <a href="#legend-label-configuration">Legend Label Configuration</a> section below.</td>
</tr>
<tr>
<td><code>rtl</code></td>
<td><code>boolean</code></td>
<td></td>
<td><code>true</code> for rendering the legends from right to left.</td>
</tr>
<tr>
<td><code>textDirection</code></td>
<td><code>string</code></td>
<td>canvas&#39; default</td>
<td>This will force the text direction <code>&#39;rtl&#39;</code> or <code>&#39;ltr&#39;</code> on the canvas for rendering the legend, regardless of the css specified on the canvas</td>
</tr>
<tr>
<td><code>title</code></td>
<td><code>object</code></td>
<td></td>
<td>See the <a href="#legend-title-configuration">Legend Title Configuration</a> section below.</td>
</tr>
</tbody></table>
<p>:::tip Note<br>If you need more visual customizations, please use an <a href="../samples/legend/html.md">HTML legend</a>.<br>:::</p>
<h2>Position</h2>
<p>Position of the legend. Options are:</p>
<ul>
<li><code>&#39;top&#39;</code></li>
<li><code>&#39;left&#39;</code></li>
<li><code>&#39;bottom&#39;</code></li>
<li><code>&#39;right&#39;</code></li>
<li><code>&#39;chartArea&#39;</code></li>
</ul>
<p>When using the <code>&#39;chartArea&#39;</code> option the legend position is at the moment not configurable, it will always be on the left side of the chart in the middle.</p>
<h2>Align</h2>
<p>Alignment of the legend. Options are:</p>
<ul>
<li><code>&#39;start&#39;</code></li>
<li><code>&#39;center&#39;</code></li>
<li><code>&#39;end&#39;</code></li>
</ul>
<p>Defaults to <code>&#39;center&#39;</code> for unrecognized values.</p>
<h2>Legend Label Configuration</h2>
<p>Namespace: <code>options.plugins.legend.labels</code></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>boxWidth</code></td>
<td><code>number</code></td>
<td><code>40</code></td>
<td>Width of coloured box.</td>
</tr>
<tr>
<td><code>boxHeight</code></td>
<td><code>number</code></td>
<td><code>font.size</code></td>
<td>Height of the coloured box.</td>
</tr>
<tr>
<td><code>color</code></td>
<td><a href="../general/colors.md"><code>Color</code></a></td>
<td><code>Chart.defaults.color</code></td>
<td>Color of label and the strikethrough.</td>
</tr>
<tr>
<td><code>font</code></td>
<td><code>Font</code></td>
<td><code>Chart.defaults.font</code></td>
<td>See <a href="../general/fonts.md">Fonts</a></td>
</tr>
<tr>
<td><code>padding</code></td>
<td><code>number</code></td>
<td><code>10</code></td>
<td>Padding between rows of colored boxes.</td>
</tr>
<tr>
<td><code>generateLabels</code></td>
<td><code>function</code></td>
<td></td>
<td>Generates legend items for each thing in the legend. Default implementation returns the text + styling for the color box. See <a href="#legend-item-interface">Legend Item</a> for details.</td>
</tr>
<tr>
<td><code>filter</code></td>
<td><code>function</code></td>
<td><code>null</code></td>
<td>Filters legend items out of the legend. Receives 2 parameters, a <a href="#legend-item-interface">Legend Item</a> and the chart data.</td>
</tr>
<tr>
<td><code>sort</code></td>
<td><code>function</code></td>
<td><code>null</code></td>
<td>Sorts legend items. Type is : <code>sort(a: LegendItem, b: LegendItem, data: ChartData): number;</code>. Receives 3 parameters, two <a href="#legend-item-interface">Legend Items</a> and the chart data. The return value of the function is a number that indicates the order of the two legend item parameters. The ordering matches the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#description">return value</a> of <code>Array.prototype.sort()</code></td>
</tr>
<tr>
<td><a href="elements.md#point-styles"><code>pointStyle</code></a></td>
<td><a href="elements.md#types"><code>pointStyle</code></a></td>
<td><code>&#39;circle&#39;</code></td>
<td>If specified, this style of point is used for the legend. Only used if <code>usePointStyle</code> is true.</td>
</tr>
<tr>
<td><code>textAlign</code></td>
<td><code>string</code></td>
<td><code>&#39;center&#39;</code></td>
<td>Horizontal alignment of the label text. Options are: <code>&#39;left&#39;</code>, <code>&#39;right&#39;</code> or <code>&#39;center&#39;</code>.</td>
</tr>
<tr>
<td><code>usePointStyle</code></td>
<td><code>boolean</code></td>
<td><code>false</code></td>
<td>Label style will match corresponding point style (size is based on pointStyleWidth or the minimum value between boxWidth and font.size).</td>
</tr>
<tr>
<td><code>pointStyleWidth</code></td>
<td><code>number</code></td>
<td><code>null</code></td>
<td>If <code>usePointStyle</code> is true, the width of the point style used for the legend.</td>
</tr>
<tr>
<td><code>useBorderRadius</code></td>
<td><code>boolean</code></td>
<td><code>false</code></td>
<td>Label borderRadius will match corresponding borderRadius.</td>
</tr>
<tr>
<td><code>borderRadius</code></td>
<td><code>number</code></td>
<td><code>undefined</code></td>
<td>Override the borderRadius to use.</td>
</tr>
</tbody></table>
<h2>Legend Title Configuration</h2>
<p>Namespace: <code>options.plugins.legend.title</code></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>color</code></td>
<td><a href="../general/colors.md"><code>Color</code></a></td>
<td><code>Chart.defaults.color</code></td>
<td>Color of text.</td>
</tr>
<tr>
<td><code>display</code></td>
<td><code>boolean</code></td>
<td><code>false</code></td>
<td>Is the legend title displayed.</td>
</tr>
<tr>
<td><code>font</code></td>
<td><code>Font</code></td>
<td><code>Chart.defaults.font</code></td>
<td>See <a href="../general/fonts.md">Fonts</a></td>
</tr>
<tr>
<td><code>padding</code></td>
<td><a href="../general/padding.md"><code>Padding</code></a></td>
<td><code>0</code></td>
<td>Padding around the title.</td>
</tr>
<tr>
<td><code>text</code></td>
<td><code>string</code></td>
<td></td>
<td>The string title.</td>
</tr>
</tbody></table>
<h2>Legend Item Interface</h2>
<p>Items passed to the legend <code>onClick</code> function are the ones returned from <code>labels.generateLabels</code>. These items must implement the following interface.</p>
<pre><code class="hljs language-javascript">{
    <span class="hljs-comment">// Label that will be displayed</span>
    <span class="hljs-attr">text</span>: string,

    <span class="hljs-comment">// Border radius of the legend item.</span>
    <span class="hljs-comment">// Introduced in 3.1.0</span>
    borderRadius?: number | <span class="hljs-title class_">BorderRadius</span>,

    <span class="hljs-comment">// Index of the associated dataset</span>
    <span class="hljs-attr">datasetIndex</span>: number,

    <span class="hljs-comment">// Fill style of the legend box</span>
    <span class="hljs-attr">fillStyle</span>: <span class="hljs-title class_">Color</span>,

    <span class="hljs-comment">// Text color</span>
    <span class="hljs-attr">fontColor</span>: <span class="hljs-title class_">Color</span>,

    <span class="hljs-comment">// If true, this item represents a hidden dataset. Label will be rendered with a strike-through effect</span>
    <span class="hljs-attr">hidden</span>: boolean,

    <span class="hljs-comment">// For box border. See https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/lineCap</span>
    <span class="hljs-attr">lineCap</span>: string,

    <span class="hljs-comment">// For box border. See https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/setLineDash</span>
    <span class="hljs-attr">lineDash</span>: number[],

    <span class="hljs-comment">// For box border. See https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/lineDashOffset</span>
    <span class="hljs-attr">lineDashOffset</span>: number,

    <span class="hljs-comment">// For box border. See https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/lineJoin</span>
    <span class="hljs-attr">lineJoin</span>: string,

    <span class="hljs-comment">// Width of box border</span>
    <span class="hljs-attr">lineWidth</span>: number,

    <span class="hljs-comment">// Stroke style of the legend box</span>
    <span class="hljs-attr">strokeStyle</span>: <span class="hljs-title class_">Color</span>,

    <span class="hljs-comment">// Point style of the legend box (only used if usePointStyle is true)</span>
    <span class="hljs-attr">pointStyle</span>: string | <span class="hljs-title class_">Image</span> | <span class="hljs-title class_">HTMLCanvasElement</span>,

    <span class="hljs-comment">// Rotation of the point in degrees (only used if usePointStyle is true)</span>
    <span class="hljs-attr">rotation</span>: number
}</code></pre><h2>Example</h2>
<p>The following example will create a chart with the legend enabled and turn all the text red in color.</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> chart = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Chart</span>(ctx, {
    <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;bar&#x27;</span>,
    <span class="hljs-attr">data</span>: data,
    <span class="hljs-attr">options</span>: {
        <span class="hljs-attr">plugins</span>: {
            <span class="hljs-attr">legend</span>: {
                <span class="hljs-attr">display</span>: <span class="hljs-literal">true</span>,
                <span class="hljs-attr">labels</span>: {
                    <span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;rgb(255, 99, 132)&#x27;</span>
                }
            }
        }
    }
});</code></pre><h2>Custom On Click Actions</h2>
<p>It can be common to want to trigger different behaviour when clicking an item in the legend. This can be easily achieved using a callback in the config object.</p>
<p>The default legend click handler is:</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">function</span>(<span class="hljs-params">e, legendItem, legend</span>) {
    <span class="hljs-keyword">const</span> index = legendItem.<span class="hljs-property">datasetIndex</span>;
    <span class="hljs-keyword">const</span> ci = legend.<span class="hljs-property">chart</span>;
    <span class="hljs-keyword">if</span> (ci.<span class="hljs-title function_">isDatasetVisible</span>(index)) {
        ci.<span class="hljs-title function_">hide</span>(index);
        legendItem.<span class="hljs-property">hidden</span> = <span class="hljs-literal">true</span>;
    } <span class="hljs-keyword">else</span> {
        ci.<span class="hljs-title function_">show</span>(index);
        legendItem.<span class="hljs-property">hidden</span> = <span class="hljs-literal">false</span>;
    }
}</code></pre><p>Let&#39;s say we wanted instead to link the display of the first two datasets. We could change the click handler accordingly.</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> defaultLegendClickHandler = <span class="hljs-title class_">Chart</span>.<span class="hljs-property">defaults</span>.<span class="hljs-property">plugins</span>.<span class="hljs-property">legend</span>.<span class="hljs-property">onClick</span>;
<span class="hljs-keyword">const</span> pieDoughnutLegendClickHandler = <span class="hljs-title class_">Chart</span>.<span class="hljs-property">controllers</span>.<span class="hljs-property">doughnut</span>.<span class="hljs-property">overrides</span>.<span class="hljs-property">plugins</span>.<span class="hljs-property">legend</span>.<span class="hljs-property">onClick</span>;
<span class="hljs-keyword">const</span> newLegendClickHandler = <span class="hljs-keyword">function</span> (<span class="hljs-params">e, legendItem, legend</span>) {
    <span class="hljs-keyword">const</span> index = legendItem.<span class="hljs-property">datasetIndex</span>;
    <span class="hljs-keyword">const</span> type = legend.<span class="hljs-property">chart</span>.<span class="hljs-property">config</span>.<span class="hljs-property">type</span>;

    <span class="hljs-keyword">if</span> (index &gt; <span class="hljs-number">1</span>) {
        <span class="hljs-comment">// Do the original logic</span>
        <span class="hljs-keyword">if</span> (type === <span class="hljs-string">&#x27;pie&#x27;</span> || type === <span class="hljs-string">&#x27;doughnut&#x27;</span>) {
            <span class="hljs-title function_">pieDoughnutLegendClickHandler</span>(e, legendItem, legend)
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-title function_">defaultLegendClickHandler</span>(e, legendItem, legend);
        }

    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">let</span> ci = legend.<span class="hljs-property">chart</span>;
        [
            ci.<span class="hljs-title function_">getDatasetMeta</span>(<span class="hljs-number">0</span>),
            ci.<span class="hljs-title function_">getDatasetMeta</span>(<span class="hljs-number">1</span>)
        ].<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">meta</span>) {
            meta.<span class="hljs-property">hidden</span> = meta.<span class="hljs-property">hidden</span> === <span class="hljs-literal">null</span> ? !ci.<span class="hljs-property">data</span>.<span class="hljs-property">datasets</span>[index].<span class="hljs-property">hidden</span> : <span class="hljs-literal">null</span>;
        });
        ci.<span class="hljs-title function_">update</span>();
    }
};

<span class="hljs-keyword">const</span> chart = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Chart</span>(ctx, {
    <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;line&#x27;</span>,
    <span class="hljs-attr">data</span>: data,
    <span class="hljs-attr">options</span>: {
        <span class="hljs-attr">plugins</span>: {
            <span class="hljs-attr">legend</span>: {
                <span class="hljs-attr">onClick</span>: newLegendClickHandler
            }
        }
    }
});</code></pre><p>Now when you click the legend in this chart, the visibility of the first two datasets will be linked together.</p>
</div>
    </div>
  </main>
  <footer class="docs-footer"><p>&copy; 2024 Reynard Documentation Test. Built with ❤️ using SolidJS.</p></footer>
</body>
</html>