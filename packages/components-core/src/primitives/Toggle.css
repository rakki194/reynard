/**
 * ðŸ¦Š Toggle Styles
 * Accessible toggle switch with size variants and theme support
 */

.toggle {
  position: relative;
  display: inline-block;
  cursor: pointer;
  user-select: none;
}

.toggle.disabled {
  cursor: not-allowed;
  opacity: 0.6;
}

.toggle__input {
  position: absolute;
  opacity: 0;
  width: 0;
  height: 0;
  margin: 0;
  padding: 0;
  border: none;
  outline: none;
}

.toggle__slider {
  position: relative;
  display: block;
  background: var(--toggle-bg-default, #e5e7eb);
  border-radius: 1.5em;
  transition: background-color 0.2s ease;
  border: 2px solid transparent;
}

.toggle__slider::before {
  content: "";
  position: absolute;
  top: 50%;
  left: 0.1em;
  transform: translateY(-50%);
  background: var(--toggle-knob-default, #ffffff);
  border-radius: 50%;
  transition: all 0.2s ease;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

/* Size variants */
.toggle.sm .toggle__slider {
  width: 2.5em;
  height: 1.25em;
}

.toggle.sm .toggle__slider::before {
  width: 0.9em;
  height: 0.9em;
}

.toggle.md .toggle__slider {
  width: 3em;
  height: 1.5em;
}

.toggle.md .toggle__slider::before {
  width: 1.1em;
  height: 1.1em;
}

.toggle.lg .toggle__slider {
  width: 3.5em;
  height: 1.75em;
}

.toggle.lg .toggle__slider::before {
  width: 1.3em;
  height: 1.3em;
}

/* Checked state */
.toggle__input:checked + .toggle__slider {
  background: var(--toggle-bg-checked, #3b82f6);
}

.toggle__input:checked + .toggle__slider::before {
  transform: translateX(1.6em) translateY(-50%);
  background: var(--toggle-knob-checked, #ffffff);
}

.toggle.sm .toggle__input:checked + .toggle__slider::before {
  transform: translateX(1.2em) translateY(-50%);
}

.toggle.lg .toggle__input:checked + .toggle__slider::before {
  transform: translateX(1.8em) translateY(-50%);
}

/* Hover states */
.toggle:not(.disabled):hover .toggle__slider {
  background: var(--toggle-bg-hover, #d1d5db);
}

.toggle:not(.disabled):hover .toggle__input:checked + .toggle__slider {
  background: var(--toggle-bg-checked-hover, #2563eb);
}

.toggle:not(.disabled):hover .toggle__slider::before {
  background: var(--toggle-knob-hover, #f9fafb);
}

.toggle:not(.disabled):hover .toggle__input:checked + .toggle__slider::before {
  background: var(--toggle-knob-checked-hover, #ffffff);
}

/* Focus states */
.toggle__input:focus + .toggle__slider {
  outline: 2px solid var(--toggle-focus-ring, #3b82f6);
  outline-offset: 2px;
}

.toggle__input:focus:checked + .toggle__slider {
  background: var(--toggle-bg-checked, #3b82f6);
}

/* Active states */
.toggle:not(.disabled):active .toggle__slider::before {
  transform: translateY(-50%) scale(0.95);
}

.toggle:not(.disabled):active .toggle__input:checked + .toggle__slider::before {
  transform: translateX(1.6em) translateY(-50%) scale(0.95);
}

.toggle.sm:not(.disabled):active
  .toggle__input:checked
  + .toggle__slider::before {
  transform: translateX(1.2em) translateY(-50%) scale(0.95);
}

.toggle.lg:not(.disabled):active
  .toggle__input:checked
  + .toggle__slider::before {
  transform: translateX(1.8em) translateY(-50%) scale(0.95);
}

/* Disabled state */
.toggle.disabled .toggle__slider {
  background: var(--toggle-bg-disabled, #f3f4f6);
  cursor: not-allowed;
}

.toggle.disabled .toggle__slider::before {
  background: var(--toggle-knob-disabled, #d1d5db);
}

.toggle.disabled .toggle__input:checked + .toggle__slider {
  background: var(--toggle-bg-checked-disabled, #9ca3af);
}

.toggle.disabled .toggle__input:checked + .toggle__slider::before {
  background: var(--toggle-knob-checked-disabled, #e5e7eb);
}

/* Dark theme support */
@media (prefers-color-scheme: dark) {
  .toggle__slider {
    background: var(--toggle-bg-default-dark, #374151);
  }

  .toggle__slider::before {
    background: var(--toggle-knob-default-dark, #f9fafb);
  }

  .toggle__input:checked + .toggle__slider {
    background: var(--toggle-bg-checked-dark, #60a5fa);
  }

  .toggle__input:checked + .toggle__slider::before {
    background: var(--toggle-knob-checked-dark, #ffffff);
  }

  .toggle:not(.disabled):hover .toggle__slider {
    background: var(--toggle-bg-hover-dark, #4b5563);
  }

  .toggle:not(.disabled):hover .toggle__input:checked + .toggle__slider {
    background: var(--toggle-bg-checked-hover-dark, #3b82f6);
  }
}

/* RTL Support */
:root[dir="rtl"] .toggle__slider::before {
  left: auto;
  right: 0.1em;
}

:root[dir="rtl"] .toggle__input:checked + .toggle__slider::before {
  transform: translateX(-1.6em) translateY(-50%);
}

:root[dir="rtl"] .toggle.sm .toggle__input:checked + .toggle__slider::before {
  transform: translateX(-1.2em) translateY(-50%);
}

:root[dir="rtl"] .toggle.lg .toggle__input:checked + .toggle__slider::before {
  transform: translateX(-1.8em) translateY(-50%);
}

:root[dir="rtl"]
  .toggle:not(.disabled):active
  .toggle__input:checked
  + .toggle__slider::before {
  transform: translateX(-1.6em) translateY(-50%) scale(0.95);
}

:root[dir="rtl"]
  .toggle.sm:not(.disabled):active
  .toggle__input:checked
  + .toggle__slider::before {
  transform: translateX(-1.2em) translateY(-50%) scale(0.95);
}

:root[dir="rtl"]
  .toggle.lg:not(.disabled):active
  .toggle__input:checked
  + .toggle__slider::before {
  transform: translateX(-1.8em) translateY(-50%) scale(0.95);
}
